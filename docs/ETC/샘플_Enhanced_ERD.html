<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SourceAnalyzer - Enhanced ERD</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body { font-family: 'Malgun Gothic', sans-serif; margin: 0; padding: 20px; background: #f8f9fa; }
        .header { background: linear-gradient(135deg, #2196F3 0%, #21CBF3 100%); color: white; padding: 30px; border-radius: 10px; margin-bottom: 30px; text-align: center; }
        .content { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .legend { display: flex; gap: 20px; margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px; }
        .legend-item { display: flex; align-items: center; gap: 5px; }
        .legend-color { width: 15px; height: 15px; border-radius: 3px; }
        .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0; }
        .stat-item { background: #e3f2fd; padding: 15px; border-radius: 5px; text-align: center; }
        .stat-number { font-size: 1.8em; font-weight: bold; color: #1976d2; }
        .mermaid { background: white; padding: 20px; border-radius: 5px; }
        .table-info { margin-top: 30px; }
        .table-info table { width: 100%; border-collapse: collapse; }
        .table-info th, .table-info td { padding: 8px 12px; border: 1px solid #ddd; text-align: left; }
        .table-info th { background: #f1f3f4; }
        .high-usage { background: #ffebee; }
        .medium-usage { background: #fff3e0; }
        .low-usage { background: #f3e5f5; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ—„ï¸ Enhanced ERD - SampleSrc</h1>
        <p>ì‹¤ì œ ì‚¬ìš© ê´€ê³„ê¹Œì§€ í¬í•¨í•œ í™•ì¥ ERD | ìƒì„±ì¼: 2025-09-20 14:30:25</p>
    </div>

    <div class="content">
        <div class="stats">
            <div class="stat-item">
                <div class="stat-number">23</div>
                <div>ì´ í…Œì´ë¸”</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">156</div>
                <div>ì´ ì»¬ëŸ¼</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">45</div>
                <div>í…Œì´ë¸” ì¡°ì¸</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">67</div>
                <div>SQL ì¿¼ë¦¬</div>
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #ff6b6b;"></div>
                <span>ë†’ì€ ì‚¬ìš©ë¹ˆë„ (10íšŒ ì´ìƒ)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #4ecdc4;"></div>
                <span>ì¤‘ê°„ ì‚¬ìš©ë¹ˆë„ (3-9íšŒ)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #95a5a6;"></div>
                <span>ë‚®ì€ ì‚¬ìš©ë¹ˆë„ (1-2íšŒ)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f39c12;"></div>
                <span>ê³ ì•„ í…Œì´ë¸” (ì‚¬ìš© ì•ˆë¨)</span>
            </div>
        </div>

        <div class="mermaid">
erDiagram
    USERS {
        NUMBER id PK "ì‚¬ìš©ì ê³ ìœ  ì‹ë³„ì"
        VARCHAR2 username "ì‚¬ìš©ìëª…"
        VARCHAR2 email "ì´ë©”ì¼ ì£¼ì†Œ"
        VARCHAR2 password "ì•”í˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸"
        DATE created_at "ê³„ì • ìƒì„±ì¼ì‹œ"
    }
    
    USER_PROFILES {
        NUMBER profile_id PK "í”„ë¡œí•„ ê³ ìœ  ID"
        NUMBER user_id FK "ì‚¬ìš©ì ID"
        VARCHAR2 first_name "ì´ë¦„"
        VARCHAR2 last_name "ì„±"
        VARCHAR2 phone "ì „í™”ë²ˆí˜¸"
    }
    
    ORDERS {
        NUMBER order_id PK "ì£¼ë¬¸ID"
        NUMBER customer_id FK "ê³ ê°ID"
        DATE order_date "ì£¼ë¬¸ì¼ì‹œ"
        NUMBER total_amount "ì´ ì£¼ë¬¸ê¸ˆì•¡"
        VARCHAR2 status "ì£¼ë¬¸ìƒíƒœ"
    }
    
    ORDER_ITEMS {
        NUMBER item_id PK "ì£¼ë¬¸í•­ëª©ID"
        NUMBER order_id FK "ì£¼ë¬¸ID"
        NUMBER product_id FK "ìƒí’ˆID"
        NUMBER quantity "ìˆ˜ëŸ‰"
        NUMBER unit_price "ë‹¨ê°€"
    }
    
    PRODUCTS {
        NUMBER product_id PK "ìƒí’ˆID"
        VARCHAR2 product_name "ìƒí’ˆëª…"
        NUMBER category_id FK "ì¹´í…Œê³ ë¦¬ID"
        NUMBER price "ê°€ê²©"
        NUMBER stock_quantity "ì¬ê³ ìˆ˜ëŸ‰"
    }
    
    CATEGORIES {
        NUMBER category_id PK "ì¹´í…Œê³ ë¦¬ID"
        VARCHAR2 category_name "ì¹´í…Œê³ ë¦¬ëª…"
        NUMBER parent_id FK "ìƒìœ„ì¹´í…Œê³ ë¦¬ID"
    }
    
    CUSTOMERS {
        NUMBER customer_id PK "ê³ ê°ID"
        VARCHAR2 customer_name "ê³ ê°ëª…"
        VARCHAR2 phone "ì „í™”ë²ˆí˜¸"
        VARCHAR2 email "ì´ë©”ì¼"
    }
    
    %% ì‹¤ì œ ì‚¬ìš© ê´€ê³„ (ë©”íƒ€DBì—ì„œ ì¶”ì¶œ)
    USERS ||--o{ USER_PROFILES : "1:1 í”„ë¡œí•„"
    CUSTOMERS ||--o{ ORDERS : "1:N ì£¼ë¬¸"
    ORDERS ||--o{ ORDER_ITEMS : "1:N ì£¼ë¬¸í•­ëª©"
    PRODUCTS ||--o{ ORDER_ITEMS : "1:N ìƒí’ˆì£¼ë¬¸"
    CATEGORIES ||--o{ PRODUCTS : "1:N ìƒí’ˆë¶„ë¥˜"
    CATEGORIES ||--o{ CATEGORIES : "ê³„ì¸µêµ¬ì¡°"
    
    %% ì‹¤ì œ SQLì—ì„œ ë°œê²¬ëœ ì•”ì‹œì  ì¡°ì¸ (ì ì„ )
    USERS }o--o{ ORDERS : "ì‚¬ìš©ìë³„ ì£¼ë¬¸ì´ë ¥"
    PRODUCTS }o--o{ CATEGORIES : "ìƒí’ˆ ì¹´í…Œê³ ë¦¬ ê²€ìƒ‰"
        </div>

        <div class="table-info">
            <h3>ğŸ“Š í…Œì´ë¸”ë³„ ì‚¬ìš© í˜„í™©</h3>
            <table>
                <tr>
                    <th>í…Œì´ë¸”ëª…</th>
                    <th>ì‚¬ìš© ì¿¼ë¦¬ ìˆ˜</th>
                    <th>ê´€ë ¨ Java í´ë˜ìŠ¤</th>
                    <th>ì‚¬ìš© ë¹ˆë„</th>
                    <th>ìƒíƒœ</th>
                </tr>
                <tr class="high-usage">
                    <td><strong>USERS</strong></td>
                    <td>15ê°œ</td>
                    <td>UserController, UserService, UserDao</td>
                    <td>ë†’ìŒ</td>
                    <td>âœ… í•µì‹¬ í…Œì´ë¸”</td>
                </tr>
                <tr class="high-usage">
                    <td><strong>ORDERS</strong></td>
                    <td>12ê°œ</td>
                    <td>OrderController, OrderService</td>
                    <td>ë†’ìŒ</td>
                    <td>âœ… í•µì‹¬ í…Œì´ë¸”</td>
                </tr>
                <tr class="medium-usage">
                    <td><strong>PRODUCTS</strong></td>
                    <td>8ê°œ</td>
                    <td>ProductController, ProductService</td>
                    <td>ì¤‘ê°„</td>
                    <td>âœ… ì •ìƒ</td>
                </tr>
                <tr class="medium-usage">
                    <td><strong>ORDER_ITEMS</strong></td>
                    <td>6ê°œ</td>
                    <td>OrderService, OrderDao</td>
                    <td>ì¤‘ê°„</td>
                    <td>âœ… ì •ìƒ</td>
                </tr>
                <tr class="low-usage">
                    <td><strong>USER_PROFILES</strong></td>
                    <td>2ê°œ</td>
                    <td>UserProfileService</td>
                    <td>ë‚®ìŒ</td>
                    <td>âš ï¸ í™œìš©ë„ ë‚®ìŒ</td>
                </tr>
                <tr class="low-usage">
                    <td><strong>CATEGORIES</strong></td>
                    <td>3ê°œ</td>
                    <td>ProductService</td>
                    <td>ë‚®ìŒ</td>
                    <td>âš ï¸ í™œìš©ë„ ë‚®ìŒ</td>
                </tr>
                <tr style="background: #fff3cd;">
                    <td><strong>AUDIT_LOG</strong></td>
                    <td>0ê°œ</td>
                    <td>ì—†ìŒ</td>
                    <td>ì—†ìŒ</td>
                    <td>âŒ ê³ ì•„ í…Œì´ë¸”</td>
                </tr>
                <tr style="background: #fff3cd;">
                    <td><strong>SYSTEM_CONFIG</strong></td>
                    <td>0ê°œ</td>
                    <td>ì—†ìŒ</td>
                    <td>ì—†ìŒ</td>
                    <td>âŒ ê³ ì•„ í…Œì´ë¸”</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        mermaid.initialize({startOnLoad: true});
    </script>
</body>
</html>
