# SourceAnalyzer ì²˜ë¦¬ í”Œë¡œìš° ì„¤ê³„ì„œ

## ë¬¸ì„œ ì •ë³´
- **ì‘ì„±ì¼**: 2025-09-19
- **ë²„ì „**: v1.0
- **ëª©ì **: ì†ŒìŠ¤ ë¶„ì„ ë° ë©”íƒ€ë°ì´í„° ìƒì„± í”Œë¡œìš° ì •ì˜

## 1. ì „ì²´ ì²˜ë¦¬ í”Œë¡œìš° (ì—°ê´€ê´€ê³„ ë„ì¶œ ì¤‘ì‹¬)

### 1.1 í”Œë¡œìš° ê°œìš”

```mermaid
flowchart TD
    A[í”„ë¡œì íŠ¸ ì‹œì‘] --> B["1ë‹¨ê³„: í”„ë¡œì íŠ¸ ì´ˆê¸°í™”"]
    B --> C["2ë‹¨ê³„: íŒŒì¼ ìŠ¤ìº”"]
    C --> D["3ë‹¨ê³„: ìŠ¤í‚¤ë§ˆ ì •ë³´ ë¡œë“œ"]
    D --> E["4ë‹¨ê³„: ê³µí†µ SQL ë¶„ì„ ëª¨ë“ˆ"]
    E --> F["5ë‹¨ê³„: XML ë¶„ì„ + INFERRED ìƒì„±"]
    F --> G["6ë‹¨ê³„: Java ë¶„ì„ + INFERRED ì§„í™”"]
    G --> H["7ë‹¨ê³„: Frontend ë¶„ì„ + INFERRED ì§„í™”"]
    H --> I["8ë‹¨ê³„: ê´€ê³„ í†µí•© ë° ìµœì¢… ì •ë¦¬"]
    I --> J["ì™„ë£Œ: ë©”íƒ€ë°ì´í„° ìƒì„±"]
    
    F --> F1["XMLì—ì„œ INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„±"]
    G --> G1["Javaì—ì„œ INFERRED ì»´í¬ë„ŒíŠ¸ ìƒì„±"]
    G --> G2["XML INFERRED â†’ ì •ì‹ ê°ì²´ë¡œ ì§„í™”"]
    H --> H1["Frontendì—ì„œ INFERRED API ìƒì„±"]
    H --> H2["Java INFERRED â†’ ì •ì‹ ê°ì²´ë¡œ ì§„í™”"]
    
    style A fill:#e1f5fe
    style J fill:#c8e6c9
    style E fill:#fff3e0
    style F fill:#fff3e0
    style G fill:#fff3e0
    style H fill:#fff3e0
    style I fill:#e8f5e8
    style G2 fill:#e8f5e8
    style H2 fill:#e8f5e8
```

### 1.2 ì—°ê´€ê´€ê³„ ë„ì¶œ ì¤‘ì‹¬ ì„¤ê³„ ì›ì¹™

**í•µì‹¬ ì² í•™**: ì™„ë²½í•œ íŒŒì‹±ë³´ë‹¤ ì—°ê´€ê´€ê³„ ë„ì¶œ ìš°ì„ 
- **ë¶€ë¶„ì  ì •ë³´ë¡œë„ ì¶©ë¶„í•œ ê´€ê³„ ë„ì¶œ**: íŒŒì‹±ì´ ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´€ê³„ëŠ” ì¶”ì¶œ ê°€ëŠ¥
- **ì•ˆì „í•œ Fallback ë©”ì»¤ë‹ˆì¦˜**: ê³ ê¸‰ íŒŒì‹± ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ íŒŒì‹±ìœ¼ë¡œ ëŒ€ì²´
- **ì ì§„ì  ê´€ê³„ ì™„ì„±**: íŒŒì¼ë³„ë¡œ ê´€ê³„ë¥¼ ì ì§„ì ìœ¼ë¡œ ì™„ì„±
- **80/20 ì›ì¹™**: 80% ì¼ë°˜ì  ì¼€ì´ìŠ¤ì˜ ì•ˆì •ì  ì§€ì› ìš°ì„ 

### 1.3 INFERRED ê°ì²´ ì§„í™” ë©”ì»¤ë‹ˆì¦˜

**í•µì‹¬ ì•„ì´ë””ì–´**: INFERRED ê°ì²´ëŠ” ë‹¨ê³„ë³„ë¡œ ì§„í™”í•˜ì—¬ ì •ì‹ ê°ì²´ê°€ ë¨

#### **ì§„í™” ê³¼ì •**
```
1. XML ë¶„ì„ â†’ INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„±
   ì˜ˆ: JOINì—ì„œ ë°œê²¬ëœ "user_profile" í…Œì´ë¸”ì„ INFERREDë¡œ ìƒì„±

2. Java ë¶„ì„ â†’ XML INFERREDê°€ ì‹¤ì œ ì°¸ì¡°ë˜ë©´ ì •ì‹ ê°ì²´ë¡œ ì§„í™”
   ì˜ˆ: UserProfileDao.javaì—ì„œ "user_profile" í…Œì´ë¸” ì°¸ì¡° â†’ INFERRED â†’ ì •ì‹ í…Œì´ë¸”ë¡œ ì§„í™”

3. Frontend ë¶„ì„ â†’ Java INFERREDê°€ ì‹¤ì œ í˜¸ì¶œë˜ë©´ ì •ì‹ ê°ì²´ë¡œ ì§„í™”
   ì˜ˆ: user-profile.jsì—ì„œ UserProfileDao í˜¸ì¶œ â†’ INFERRED ì»´í¬ë„ŒíŠ¸ â†’ ì •ì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì§„í™”
```

#### **ì§„í™” ì¡°ê±´**
- **XML INFERRED â†’ ì •ì‹ ì§„í™”**: Javaì—ì„œ ì‹¤ì œ ì°¸ì¡°/ì‚¬ìš©
- **Java INFERRED â†’ ì •ì‹ ì§„í™”**: Frontendì—ì„œ ì‹¤ì œ í˜¸ì¶œ/ì‚¬ìš©
- **Frontend INFERRED â†’ ì •ì‹ ì§„í™”**: ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‹¤ì œ ì°¸ì¡°

#### **ì§„í™” í›„ ì²˜ë¦¬**
- **INFERRED í”Œë˜ê·¸ ì œê±°**: `is_inferred = 'N'`ìœ¼ë¡œ ë³€ê²½
- **ê´€ê³„ ì—…ë°ì´íŠ¸**: INFERRED ê´€ê³„ë¥¼ ì •ì‹ ê´€ê³„ë¡œ ë³€ê²½
- **ë©”íƒ€ë°ì´í„° ë³´ì™„**: ì‹¤ì œ ì‚¬ìš© íŒ¨í„´ì— ë”°ë¥¸ ì¶”ê°€ ì •ë³´ ìˆ˜ì§‘

#### **êµ¬ì²´ì ì¸ ì§„í™” ì˜ˆì‹œ**
```python
# 1. XML ë¶„ì„ ë‹¨ê³„
# user-mapper.xmlì—ì„œ JOIN ë°œê²¬
def analyze_xml_file(xml_content):
    joins = extract_joins(xml_content)
    for join in joins:
        if not table_exists(join.table_name):
            # INFERRED í…Œì´ë¸” ìƒì„±
            create_inferred_table(join.table_name, is_inferred='Y')
            create_inferred_columns(join.columns, is_inferred='Y')

# 2. Java ë¶„ì„ ë‹¨ê³„
# UserProfileDao.javaì—ì„œ user_profile í…Œì´ë¸” ì°¸ì¡°
def analyze_java_file(java_content):
    sql_calls = extract_sql_calls(java_content)
    for sql_call in sql_calls:
        table_name = extract_table_name(sql_call)
        if is_inferred_table(table_name):
            # INFERRED â†’ ì •ì‹ ê°ì²´ë¡œ ì§„í™”
            evolve_inferred_to_formal(table_name)
            update_relationships(table_name, is_inferred='N')

# 3. Frontend ë¶„ì„ ë‹¨ê³„
# user-profile.jsì—ì„œ UserProfileDao í˜¸ì¶œ
def analyze_frontend_file(js_content):
    api_calls = extract_api_calls(js_content)
    for api_call in api_calls:
        component_name = extract_component_name(api_call)
        if is_inferred_component(component_name):
            # INFERRED â†’ ì •ì‹ ê°ì²´ë¡œ ì§„í™”
            evolve_inferred_to_formal(component_name)
            update_relationships(component_name, is_inferred='N')
```

### 1.2 ë‹¨ê³„ë³„ ì²˜ë¦¬ ëª©ì 

| ë‹¨ê³„ | ì²˜ë¦¬ ë‚´ìš© | ì…ë ¥ | ì¶œë ¥ | í•µì‹¬ ëª©í‘œ (ì—°ê´€ê´€ê³„ ì¤‘ì‹¬) |
|------|-----------|------|------|----------|
| 1ë‹¨ê³„ | í”„ë¡œì íŠ¸ ì´ˆê¸°í™” | í”„ë¡œì íŠ¸ëª…, ì„¤ì • | projects í…Œì´ë¸” | ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œ ì¤€ë¹„ |
| 2ë‹¨ê³„ | íŒŒì¼ ìŠ¤ìº” | ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ | files í…Œì´ë¸” | ëª¨ë“  ì†ŒìŠ¤ íŒŒì¼ ë“±ë¡ |
| 3ë‹¨ê³„ | ìŠ¤í‚¤ë§ˆ ì •ë³´ ë¡œë“œ | CSV íŒŒì¼ | tables, columns í…Œì´ë¸” | ì‹¤ì œ ìŠ¤í‚¤ë§ˆ ì •ë³´ ë“±ë¡ |
| 4ë‹¨ê³„ | XML ë¶„ì„ + INFERRED ìƒì„± | MyBatis XML | SQL ì»´í¬ë„ŒíŠ¸, INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ | ì¡°ì¸ì—ì„œ ë°œê²¬ëœ ëˆ„ë½ í…Œì´ë¸”/ì»¬ëŸ¼ INFERREDë¡œ ìƒì„± |
| 5ë‹¨ê³„ | Java ë¶„ì„ + INFERRED ì§„í™” | Java ì†ŒìŠ¤ | í´ë˜ìŠ¤, ë©”ì„œë“œ, INFERRED ì»´í¬ë„ŒíŠ¸ | XML INFERRED â†’ ì •ì‹ ê°ì²´ ì§„í™”, ëˆ„ë½ ì»´í¬ë„ŒíŠ¸ INFERRED ìƒì„± |
| 6ë‹¨ê³„ | Frontend ë¶„ì„ + INFERRED ì§„í™” | JSP/JSX | API í˜¸ì¶œ, INFERRED API | Java INFERRED â†’ ì •ì‹ ê°ì²´ ì§„í™”, ëˆ„ë½ API INFERRED ìƒì„± |
| 7ë‹¨ê³„ | ê´€ê³„ í†µí•© ë° ìµœì¢… ì •ë¦¬ | ëª¨ë“  ê´€ê³„ ì •ë³´ | relationships í…Œì´ë¸” | ê´€ê³„ ì¤‘ë³µ ì œê±°, ìµœì¢… INFERRED ì •ë¦¬ |

## 2. ë‹¨ê³„ë³„ ìƒì„¸ í”Œë¡œìš°

### 2.1 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

```mermaid
flowchart LR
    A[í”„ë¡œì íŠ¸ ì‹œì‘] --> B{í”„ë¡œì íŠ¸ ì¡´ì¬?}
    B -->|Yes| C["í”„ë¡œì íŠ¸ ì •ë³´ ë¡œë“œ"]
    B -->|No| D["ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±"]
    C --> E["ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°"]
    D --> E
    E --> F["ë©”íƒ€ë°ì´í„° DB ì´ˆê¸°í™”"]
    F --> G["ì„¤ì • íŒŒì¼ ë¡œë“œ"]
    G --> H["ë‹¤ìŒ ë‹¨ê³„ë¡œ"]
```

**ì²˜ë¦¬ ë‚´ìš©**:
- í”„ë¡œì íŠ¸ ë“±ë¡ (projects í…Œì´ë¸”)
- ë©”íƒ€ë°ì´í„° DB ìƒì„± (metadata.db, SqlContent.db)
- ì„¤ì • íŒŒì¼ ë¡œë“œ (config.yaml, parser ì„¤ì •)

### 2.2 2ë‹¨ê³„: íŒŒì¼ ìŠ¤ìº”

```mermaid
flowchart TD
    A[ì†ŒìŠ¤ ë””ë ‰í† ë¦¬ ìŠ¤ìº”] --> B[íŒŒì¼ íƒ€ì… ë¶„ë¥˜]
    B --> C["Java íŒŒì¼ ë“±ë¡"]
    B --> D["XML íŒŒì¼ ë“±ë¡"]
    B --> E["JSP/JSX íŒŒì¼ ë“±ë¡"]
    B --> F["ê¸°íƒ€ íŒŒì¼ ë“±ë¡"]
    C --> G[files í…Œì´ë¸” ì €ì¥]
    D --> G
    E --> G
    F --> G
    G --> H["íŒŒì¼ í•´ì‹œê°’ ê³„ì‚°"]
    H --> I["ë³€ê²½ ê°ì§€ ì¤€ë¹„"]
```

**ì²˜ë¦¬ ë‚´ìš©**:
- ì¬ê·€ì  ë””ë ‰í† ë¦¬ ìŠ¤ìº”
- íŒŒì¼ íƒ€ì…ë³„ ë¶„ë¥˜ (Java, XML, JSP, JSX, etc.)
- files í…Œì´ë¸”ì— ë©”íƒ€ì •ë³´ ì €ì¥
- íŒŒì¼ í•´ì‹œê°’ ê³„ì‚° (ë³€ê²½ ê°ì§€ìš©)

### 2.3 3ë‹¨ê³„: ìŠ¤í‚¤ë§ˆ ì •ë³´ ë¡œë“œ

```mermaid
flowchart LR
    A[CSV íŒŒì¼ ì½ê¸°] --> B[í…Œì´ë¸” ì •ë³´ íŒŒì‹±]
    B --> C[ì»¬ëŸ¼ ì •ë³´ íŒŒì‹±]
    C --> D["PK/FK ê´€ê³„ íŒŒì‹±"]
    D --> E["tables í…Œì´ë¸” ì €ì¥"]
    E --> F["columns í…Œì´ë¸” ì €ì¥"]
    F --> G["ìŠ¤í‚¤ë§ˆ ê²€ì¦"]
    G --> H["ë‹¤ìŒ ë‹¨ê³„ë¡œ"]
```

**ì²˜ë¦¬ ë‚´ìš©**:
- ì‹¤ì œ DB ìŠ¤í‚¤ë§ˆ ì •ë³´ ë¡œë“œ
- í…Œì´ë¸”/ì»¬ëŸ¼ ë©”íƒ€ì •ë³´ ì €ì¥
- PK/FK ê´€ê³„ ì •ë³´ ì €ì¥

**CSV íŒŒì¼ ì²˜ë¦¬ ì •ì±…**:
- ì¸ì½”ë”© ì²˜ë¦¬: ìë™ ê°ì§€ (chardet) â†’ cp949 â†’ euc-kr â†’ utf-8 â†’ latin-1
- ë°ì´í„° íƒ€ì…: NUMBER(precision,scale) ë”°ì˜´í‘œ ì²˜ë¦¬
- íŒŒì¼ êµ¬ì¡°: ALL_TABLES.csv, ALL_TAB_COLUMNS.csv (CP949 ì¸ì½”ë”©)
- ì˜¤ë¥˜ ì²˜ë¦¬: í•„ìˆ˜ í•„ë“œ ëˆ„ë½ ì‹œ ì¡°ìš©íˆ ê¸°ë³¸ê°’(UNKNOWN)ìœ¼ë¡œ ì²˜ë¦¬

**CSV ë°ì´í„° íƒ€ì… íŒŒì‹± ë¡œì§**:
```python
def _parse_data_type(data_type_raw):
    """CSV ë°ì´í„° íƒ€ì… íŒŒì‹±"""
    if not data_type_raw:
        return '', None
    
    # ê´„í˜¸ê°€ ìˆëŠ” ê²½ìš°: VARCHAR2(50) â†’ type='VARCHAR2', length=50
    if '(' in data_type_raw and ')' in data_type_raw:
        type_part = data_type_raw.split('(')[0].strip()
        length_part = data_type_raw.split('(')[1].split(')')[0]
        
        # ì‰¼í‘œê°€ ìˆëŠ” ê²½ìš°: NUMBER(10,2) â†’ length=10 (ì²« ë²ˆì§¸ ìˆ«ìë§Œ)
        if ',' in length_part:
            length_part = length_part.split(',')[0]
        
        try:
            data_length = int(length_part) if length_part.isdigit() else None
        except ValueError:
            data_length = None
        
        return type_part, data_length
    
    # ê´„í˜¸ê°€ ì—†ëŠ” ê²½ìš°: DATE, CLOB â†’ length=None
    else:
        return data_type_raw.strip(), None

# íŒŒì‹± ì˜ˆì‹œ
# VARCHAR2(50) â†’ data_type='VARCHAR2', data_length=50
# NUMBER(10,2) â†’ data_type='NUMBER', data_length=10
# DATE â†’ data_type='DATE', data_length=None
# CLOB â†’ data_type='CLOB', data_length=None
# TIMESTAMP(6) â†’ data_type='TIMESTAMP', data_length=6
```

**CSV íŒŒì¼ ê²½ë¡œ êµ¬ì¡°**:
```
./projects/{project_name}/db_schema/
â”œâ”€â”€ ALL_TABLES.csv        # í…Œì´ë¸” ì •ë³´
â””â”€â”€ ALL_TAB_COLUMNS.csv   # ì»¬ëŸ¼ ì •ë³´
```

**CSV ë°ì´í„° ë§¤í•‘**:
- **ALL_TABLES.csv**: TABLE_NAME, OWNER, COMMENTS
- **ALL_TAB_COLUMNS.csv**: TABLE_NAME, COLUMN_NAME, DATA_TYPE, NULLABLE, COLUMN_COMMENTS, PK, OWNER

### 2.4 ê³µí†µ SQL ì¿¼ë¦¬ ë¶„ì„ ëª¨ë“ˆ

**ê¸°ëŠ¥**: XML, Java ë¶„ì„ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” SQL ì¿¼ë¦¬ ë¶„ì„ ë° INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìë™ ìƒì„±

**ê³µí†µí™” ì›ì¹™**:
- **ì¿¼ë¦¬ ë¶„ì„ â†’ í…Œì´ë¸” ë„ì¶œ â†’ ì¡°ì¸ ë„ì¶œ**: XML, Java ë¶„ì„ì—ì„œ ë™ì¼í•œ ë¡œì§ ì‚¬ìš©
- **SQL ì¶”ì¶œ**: XML(MyBatis), Java(JDBC, JPA)ì—ì„œ SQL ì¶”ì¶œ í›„ ê³µí†µ ë¶„ì„ ëª¨ë“ˆë¡œ ì „ë‹¬
- **INFERRED ìƒì„±**: ì¡°ì¸ì—ì„œ ë°œê²¬ëœ ëˆ„ë½ í…Œì´ë¸”/ì»¬ëŸ¼ì„ ê³µí†µ ëª¨ë“ˆì—ì„œ ìƒì„±

**SQL ì¿¼ë¦¬ íƒ€ì…ë³„ ì¡°ì¸ ë¶„ì„ í”Œë¡œìš°**:

```mermaid
flowchart TD
    A[SQL ì¿¼ë¦¬] --> B[ì¿¼ë¦¬ íƒ€ì… ë¶„ë¥˜]
    B --> C[SELECT]
    B --> D[INSERT]
    B --> E[UPDATE]
    B --> F[DELETE]
    
    C --> G["ëŒ€ìƒ í…Œì´ë¸” ë¶„ì„"]
    D --> G
    E --> G
    F --> G
    
    G --> H["ì¡°ì¸ ë¶„ì„"]
    H --> I["ê´€ê³„ ìƒì„±"]
    
    style G fill:#e8f5e8
    style H fill:#e8f5e8
    style I fill:#e8f5e8
```

**SQL ì¡°ì¸ ë¶„ì„ íŒ¨í„´**:
```python
sql_analysis_patterns = {
    # ëª¨ë“  SQL íƒ€ì…ì—ì„œ ì¡°ì¸ ë¶„ì„ ê°€ëŠ¥
    'explicit_joins': [
        r"(LEFT\s+(?:OUTER\s+)?JOIN)\s+([a-zA-Z_][a-zA-Z0-9_]*)(?:\s+([a-zA-Z_][a-zA-Z0-9_]*))?\s+ON\s+(.+?)(?=\s+(?:LEFT|RIGHT|FULL|INNER|CROSS|NATURAL|WHERE|GROUP|ORDER|$))",
        r"(INNER\s+JOIN)\s+([a-zA-Z_][a-zA-Z0-9_]*)(?:\s+([a-zA-Z_][a-zA-Z0-9_]*))?\s+ON\s+(.+?)(?=\s+(?:LEFT|RIGHT|FULL|INNER|CROSS|NATURAL|WHERE|GROUP|ORDER|$))",
        r"(RIGHT\s+(?:OUTER\s+)?JOIN)\s+([a-zA-Z_][a-zA-Z0-9_]*)(?:\s+([a-zA-Z_][a-zA-Z0-9_]*))?\s+ON\s+(.+?)(?=\s+(?:LEFT|RIGHT|FULL|INNER|CROSS|NATURAL|WHERE|GROUP|ORDER|$))"
    ],
    'implicit_joins': [
        r"([a-zA-Z_][a-zA-Z0-9_]*)\.([a-zA-Z_][a-zA-Z0-9_]*)\s*=\s*([a-zA-Z_][a-zA-Z0-9_]*)\.([a-zA-Z_][a-zA-Z0-9_]*)",
        r"([a-zA-Z_][a-zA-Z0-9_]*)\.([a-zA-Z_][a-zA-Z0-9_]*)\s*\(\+\)\s*=\s*([a-zA-Z_][a-zA-Z0-9_]*)\.([a-zA-Z_][a-zA-Z0-9_]*)"
    ],
    # INSERT/UPDATE/DELETEì—ì„œë„ ì„œë¸Œì¿¼ë¦¬ ì¡°ì¸ ê°€ëŠ¥
    'subquery_joins': [
        r"WHERE\s+EXISTS\s*\(\s*SELECT\s+.*?\s+FROM\s+([a-zA-Z_][a-zA-Z0-9_]*)",
        r"WHERE\s+.*?\s+IN\s*\(\s*SELECT\s+.*?\s+FROM\s+([a-zA-Z_][a-zA-Z0-9_]*)",
        r"FROM\s+\(\s*SELECT\s+.*?\s+FROM\s+([a-zA-Z_][a-zA-Z0-9_]*)"
    ]
}

join_type_mapping = {
    r"LEFT\s+(?:OUTER\s+)?JOIN": "LEFT_JOIN",
    r"INNER\s+JOIN": "INNER_JOIN", 
    r"RIGHT\s+(?:OUTER\s+)?JOIN": "RIGHT_JOIN",
    r"FULL\s+OUTER\s+JOIN": "FULL_OUTER_JOIN",
    r"ORACLE_OUTER": "ORACLE_OUTER_JOIN"
}
```

**INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„± ì›ì¹™**:
```python
def create_inferred_objects(join_relationships):
    """ì¡°ì¸ì—ì„œ ë°œê²¬ëœ í…Œì´ë¸”/ì»¬ëŸ¼ ìë™ ìƒì„±"""
    
    for relationship in join_relationships:
        # 1. í…Œì´ë¸” ê²€ìƒ‰: project_id, table_nameìœ¼ë¡œ ê¸°ì¡´ í…Œì´ë¸” í™•ì¸
        existing_table = find_table_by_name(project_id, table_name)
        
        if not existing_table:
            # 2. ê²€ìƒ‰ ì‹¤íŒ¨ ì‹œ: INFERRED í…Œì´ë¸” ìƒì„± (table_owner='UNKNOWN')
            inferred_table = create_inferred_table(
                table_name=table_name,
                table_owner='UNKNOWN',
                source_type='INFERRED',
                inferred_from=f"SQL JOIN in {file_path}"
            )
        
        # 3. ì»¬ëŸ¼ ìƒì„±: ì¡°ì¸ ì¡°ê±´ì—ì„œ ë°œê²¬ëœ ì»¬ëŸ¼ë§Œ ìƒì„± (ë³µì¡ë„ ìµœì†Œí™”)
        if join_condition_columns:
            for column_name in join_condition_columns:
                create_inferred_column(
                    table_id=inferred_table.table_id,
                    column_name=column_name,
                    data_type='VARCHAR',  # ê¸°ë³¸ íƒ€ì…
                    nullable='Y',
                    source_type='INFERRED',
                    inferred_from=f"JOIN condition: {join_condition}"
                )
```

**êµ¬ì²´ì ì¸ SQL ë¶„ì„ êµ¬í˜„**:

```python
def analyze_sql_query(sql_content, query_type):
    """ëª¨ë“  SQL íƒ€ì…ì— ëŒ€í•œ ì¡°ì¸ ë¶„ì„"""
    
    # 1. ì¿¼ë¦¬ íƒ€ì… ë¶„ë¥˜
    query_type = classify_query_type(sql_content)
    
    # 2. ëŒ€ìƒ í…Œì´ë¸” ë¶„ì„ (ëª¨ë“  SQL íƒ€ì… ê³µí†µ)
    target_tables = extract_target_tables(sql_content, query_type)
    
    # 3. ì¡°ì¸ ë¶„ì„ (ëª¨ë“  SQL íƒ€ì…ì—ì„œ ê°€ëŠ¥)
    join_relationships = analyze_joins_in_query(sql_content)
    
    # 4. ê´€ê³„ ìƒì„±
    relationships = create_sql_relationships(target_tables, join_relationships)
    
    return {
        'query_type': query_type,
        'target_tables': target_tables,
        'join_relationships': join_relationships,
        'relationships': relationships
    }

def extract_target_tables(sql_content, query_type):
    """ì¿¼ë¦¬ íƒ€ì…ë³„ ëŒ€ìƒ í…Œì´ë¸” ì¶”ì¶œ"""
    
    if query_type == 'SELECT':
        # FROM ì ˆì—ì„œ í…Œì´ë¸” ì¶”ì¶œ
        tables = extract_from_tables(sql_content)
    elif query_type == 'INSERT':
        # INSERT INTO ì ˆì—ì„œ í…Œì´ë¸” ì¶”ì¶œ
        tables = extract_insert_tables(sql_content)
    elif query_type == 'UPDATE':
        # UPDATE ì ˆì—ì„œ í…Œì´ë¸” ì¶”ì¶œ
        tables = extract_update_tables(sql_content)
    elif query_type == 'DELETE':
        # DELETE FROM ì ˆì—ì„œ í…Œì´ë¸” ì¶”ì¶œ
        tables = extract_delete_tables(sql_content)
    
    return tables

def analyze_joins_in_query(sql_content):
    """ëª¨ë“  SQL íƒ€ì…ì—ì„œ ì¡°ì¸ ë¶„ì„"""
    
    join_relationships = []
    
    # 1. ëª…ì‹œì  ì¡°ì¸ ë¶„ì„
    explicit_joins = find_explicit_joins(sql_content)
    join_relationships.extend(explicit_joins)
    
    # 2. ì•”ì‹œì  ì¡°ì¸ ë¶„ì„ (WHERE ì ˆ)
    implicit_joins = find_implicit_joins(sql_content)
    join_relationships.extend(implicit_joins)
    
    # 3. ì„œë¸Œì¿¼ë¦¬ ì¡°ì¸ ë¶„ì„ (INSERT/UPDATE/DELETEì—ì„œë„ ê°€ëŠ¥)
    subquery_joins = find_subquery_joins(sql_content)
    join_relationships.extend(subquery_joins)
    
    return join_relationships

# INSERT ì˜ˆì‹œ: INSERT INTO orders SELECT ... FROM customers c JOIN products p
# UPDATE ì˜ˆì‹œ: UPDATE orders o SET ... WHERE EXISTS (SELECT 1 FROM customers c WHERE ...)
# DELETE ì˜ˆì‹œ: DELETE FROM orders WHERE order_id IN (SELECT order_id FROM ...)
```

**ê³µí†µ SQL ì¿¼ë¦¬ ë¶„ì„ ëª¨ë“ˆ êµ¬í˜„**:

```python
class CommonSQLAnalyzer:
    """XML, Java ë¶„ì„ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” SQL ì¿¼ë¦¬ ë¶„ì„ê¸°"""
    
    def analyze_sql_from_source(self, sql_content, source_type, source_file):
        """ì†ŒìŠ¤ì—ì„œ ì¶”ì¶œí•œ SQLì„ ê³µí†µ ë¶„ì„"""
        
        # 1. ì¿¼ë¦¬ íƒ€ì… ë¶„ë¥˜
        query_type = self.classify_query_type(sql_content)
        
        # 2. ëŒ€ìƒ í…Œì´ë¸” ë¶„ì„
        target_tables = self.extract_target_tables(sql_content, query_type)
        
        # 3. ì¡°ì¸ ë¶„ì„
        join_relationships = self.analyze_joins_in_query(sql_content)
        
        # 4. INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„±
        inferred_objects = self.create_inferred_objects(join_relationships, source_file)
        
        # 5. ê´€ê³„ ìƒì„±
        relationships = self.create_sql_relationships(target_tables, join_relationships, source_type)
        
        return {
            'query_type': query_type,
            'target_tables': target_tables,
            'join_relationships': join_relationships,
            'inferred_objects': inferred_objects,
            'relationships': relationships
        }
    
    def extract_sql_from_xml(self, xml_content):
        """XMLì—ì„œ SQL ì¶”ì¶œ"""
        sql_queries = []
        
        # MyBatis XMLì—ì„œ SQL ì¶”ì¶œ
        select_queries = extract_mybatis_selects(xml_content)
        insert_queries = extract_mybatis_inserts(xml_content)
        update_queries = extract_mybatis_updates(xml_content)
        delete_queries = extract_mybatis_deletes(xml_content)
        
        sql_queries.extend(select_queries + insert_queries + update_queries + delete_queries)
        
        return sql_queries
    
    def extract_sql_from_java(self, java_content):
        """Javaì—ì„œ SQL ì¶”ì¶œ"""
        sql_queries = []
        
        # JDBC SQL ì¶”ì¶œ
        jdbc_queries = extract_jdbc_sql(java_content)
        
        # JPA Query Method ì¶”ì¶œ
        jpa_queries = extract_jpa_query_methods(java_content)
        
        # MyBatis Mapper í˜¸ì¶œ ì¶”ì¶œ
        mybatis_queries = extract_mybatis_mapper_calls(java_content)
        
        sql_queries.extend(jdbc_queries + jpa_queries + mybatis_queries)
        
        return sql_queries

# XML ë¶„ì„ì—ì„œ ì‚¬ìš©
def analyze_xml_with_common_sql(xml_content):
    """XML ë¶„ì„ ì‹œ ê³µí†µ SQL ë¶„ì„ ëª¨ë“ˆ ì‚¬ìš©"""
    
    # 1. XMLì—ì„œ SQL ì¶”ì¶œ
    sql_analyzer = CommonSQLAnalyzer()
    sql_queries = sql_analyzer.extract_sql_from_xml(xml_content)
    
    # 2. ê° SQLì„ ê³µí†µ ë¶„ì„ ëª¨ë“ˆë¡œ ë¶„ì„
    analysis_results = []
    for sql_query in sql_queries:
        result = sql_analyzer.analyze_sql_from_source(
            sql_content=sql_query['sql'],
            source_type='XML',
            source_file=sql_query['file']
        )
        analysis_results.append(result)
    
    return analysis_results

# Java ë¶„ì„ì—ì„œ ì‚¬ìš©
def analyze_java_with_common_sql(java_content):
    """Java ë¶„ì„ ì‹œ ê³µí†µ SQL ë¶„ì„ ëª¨ë“ˆ ì‚¬ìš©"""
    
    # 1. Javaì—ì„œ SQL ì¶”ì¶œ
    sql_analyzer = CommonSQLAnalyzer()
    sql_queries = sql_analyzer.extract_sql_from_java(java_content)
    
    # 2. ê° SQLì„ ê³µí†µ ë¶„ì„ ëª¨ë“ˆë¡œ ë¶„ì„
    analysis_results = []
    for sql_query in sql_queries:
        result = sql_analyzer.analyze_sql_from_source(
            sql_content=sql_query['sql'],
            source_type='JAVA',
            source_file=sql_query['file']
        )
        analysis_results.append(result)
    
    return analysis_results
```

**ë™ì  í…Œì´ë¸”ëª… ì²˜ë¦¬**:
```python
# ë™ì  í…Œì´ë¸”ëª… ì •ê·œí™”: users_${environment} â†’ USERS_ (ë™ì  ë¶€ë¶„ ì œê±°)
def normalize_dynamic_table_name(table_name):
    import re
    # í™˜ê²½ë³„ í…Œì´ë¸”ëª… íŒ¨í„´ ì œê±°
    normalized = re.sub(r'_\$\{[^}]+\}', '_', table_name)
    normalized = re.sub(r'_\w+_env', '_', normalized)
    return normalized.upper()
```

### 2.5 5ë‹¨ê³„: XML ë¶„ì„ + INFERRED ìƒì„±

```mermaid
flowchart TD
    A[XML íŒŒì¼ ì„ íƒ] --> B[MyBatis íŒŒì‹± ì‹œë„]
    B --> C{íŒŒì‹± ì„±ê³µ?}
    C -->|Yes| D[ê³ ê¸‰ ë¶„ì„ ìˆ˜í–‰]
    C -->|No| E[ê¸°ë³¸ íŒŒì‹±ìœ¼ë¡œ Fallback]
    D --> F["SQL ì¿¼ë¦¬ ì¶”ì¶œ"]
    E --> F
    F --> G["ê³µí†µ SQL ë¶„ì„ ëª¨ë“ˆ í˜¸ì¶œ"]
    G --> H["í…Œì´ë¸” ë„ì¶œ"]
    H --> I["ì¡°ì¸ ë„ì¶œ"]
    I --> J["INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„±"]
    J --> K["ì¦‰ì‹œ ê´€ê³„ ë„ì¶œ"]
    K --> L["ì»´í¬ë„ŒíŠ¸ ìƒì„±"]
    L --> M["ê´€ê³„ ìƒì„± ë° ì €ì¥"]
    M --> N{ë” ë§ì€ XML?}
    N -->|Yes| A
    N -->|No| O["ë‹¤ìŒ ë‹¨ê³„ë¡œ"]
    
    style H fill:#e8f5e8
    style I fill:#e8f5e8
    style E fill:#fff3e0
```

**ì²˜ë¦¬ ë‚´ìš© (ì—°ê´€ê´€ê³„ ì¤‘ì‹¬)**:
- MyBatis XML íŒŒì‹± (ì•ˆì „í•œ Fallback í¬í•¨)
- **SQL ì¿¼ë¦¬ ì¶”ì¶œ**: XMLì—ì„œ SELECT, INSERT, UPDATE, DELETE ì¿¼ë¦¬ ì¶”ì¶œ
- **ê³µí†µ SQL ë¶„ì„ ëª¨ë“ˆ í˜¸ì¶œ**: ì¶”ì¶œëœ SQLì„ ê³µí†µ ë¶„ì„ ëª¨ë“ˆë¡œ ì „ë‹¬
- **í…Œì´ë¸” ë„ì¶œ**: SQLì—ì„œ ëŒ€ìƒ í…Œì´ë¸” ì‹ë³„
- **ì¡°ì¸ ë„ì¶œ**: ëª…ì‹œì /ì•”ì‹œì  ì¡°ì¸ ì¡°ê±´ ë¶„ì„
- **INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„±**: ì¡°ì¸ì—ì„œ ë°œê²¬ëœ ëˆ„ë½ í…Œì´ë¸”/ì»¬ëŸ¼ ì¦‰ì‹œ ìƒì„±
- **ì¦‰ì‹œ ê´€ê³„ ë„ì¶œ**: í…Œì´ë¸”/ì¡°ì¸ ê´€ê³„ë¥¼ ì¦‰ì‹œ ì¶”ì¶œí•˜ì—¬ ì €ì¥

**ê³ ê¸‰íŒŒì‹± vs ê¸°ë³¸íŒŒì‹± êµ¬ì²´ì  êµ¬í˜„**:

```python
# ê³ ê¸‰íŒŒì‹± (Enhanced XML Parser)
def enhanced_xml_parsing(xml_content):
    """ê³ ê¸‰ MyBatis XML íŒŒì‹±"""
    try:
        # 1. ë™ì  SQL ë¶„ì„ (<if>, <choose>, <foreach>)
        dynamic_sql = extract_dynamic_sql(xml_content)
        
        # 2. Include íƒœê·¸ ë¶„ì„ (ì¬ê·€ì )
        included_queries = resolve_includes(xml_content)
        
        # 3. ë³µì¡í•œ JOIN ë¶„ì„
        complex_joins = analyze_complex_joins(xml_content)
        
        # 4. ì„œë¸Œì¿¼ë¦¬ ë¶„ì„
        subqueries = extract_subqueries(xml_content)
        
        return {
            'queries': dynamic_sql + included_queries,
            'joins': complex_joins,
            'subqueries': subqueries,
            'relationships': extract_all_relationships()
        }
    except Exception as e:
        # ê³ ê¸‰íŒŒì‹± ì‹¤íŒ¨ ì‹œ ê¸°ë³¸íŒŒì‹±ìœ¼ë¡œ Fallback
        warning(f"ê³ ê¸‰íŒŒì‹± ì‹¤íŒ¨: {e}")
        return basic_xml_parsing(xml_content)

# ê¸°ë³¸íŒŒì‹± (Basic XML Parser)
def basic_xml_parsing(xml_content):
    """ê¸°ë³¸ MyBatis XML íŒŒì‹± (ì•ˆì „í•œ Fallback)"""
    try:
        # 1. ë‹¨ìˆœ SELECT ë¬¸ë§Œ ì¶”ì¶œ
        simple_selects = extract_simple_selects(xml_content)
        
        # 2. ê¸°ë³¸ JOINë§Œ ë¶„ì„ (INNER JOIN, LEFT JOIN)
        basic_joins = extract_basic_joins(xml_content)
        
        # 3. í…Œì´ë¸”ëª…ë§Œ ì¶”ì¶œ
        table_names = extract_table_names(xml_content)
        
        return {
            'queries': simple_selects,
            'joins': basic_joins,
            'tables': table_names,
            'relationships': extract_basic_relationships()
        }
    except Exception as e:
        # ê¸°ë³¸íŒŒì‹±ë„ ì‹¤íŒ¨ ì‹œ ìµœì†Œí•œì˜ ì •ë³´ë¼ë„ ì¶”ì¶œ
        error(f"ê¸°ë³¸íŒŒì‹±ë„ ì‹¤íŒ¨: {e}")
        return extract_minimal_info(xml_content)
```

### 2.6 6ë‹¨ê³„: Java ë¶„ì„ + INFERRED ì§„í™”

```mermaid
flowchart TD
    A[Java íŒŒì¼ ì„ íƒ] --> B[Java íŒŒì‹± ì‹œë„]
    B --> C{íŒŒì‹± ì„±ê³µ?}
    C -->|Yes| D[ê³ ê¸‰ ë¶„ì„ ìˆ˜í–‰]
    C -->|No| E[ê¸°ë³¸ íŒŒì‹±ìœ¼ë¡œ Fallback]
    D --> F["í´ë˜ìŠ¤/ë©”ì„œë“œ ì¶”ì¶œ"]
    E --> F
    F --> G["SQL ì¿¼ë¦¬ ì¶”ì¶œ"]
    G --> H["ê³µí†µ SQL ë¶„ì„ ëª¨ë“ˆ í˜¸ì¶œ"]
    H --> I["í…Œì´ë¸” ë„ì¶œ"]
    I --> J["ì¡°ì¸ ë„ì¶œ"]
    J --> K["INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„±"]
    K --> L["XML INFERRED ì§„í™” ì²´í¬"]
    L --> M["ë©”ì„œë“œ í˜¸ì¶œ íŒ¨í„´ ë¶„ì„"]
    M --> N["ì¦‰ì‹œ ê´€ê³„ ë„ì¶œ"]
    N --> O["INFERRED ì»´í¬ë„ŒíŠ¸ ìƒì„±"]
    O --> P["ì»´í¬ë„ŒíŠ¸ ìƒì„±"]
    P --> Q["ê´€ê³„ ìƒì„± ë° ì €ì¥"]
    Q --> R{ë” ë§ì€ Java?}
    R -->|Yes| A
    R -->|No| S["ë‹¤ìŒ ë‹¨ê³„ë¡œ"]
    
    style H fill:#e8f5e8
    style I fill:#e8f5e8
    style J fill:#e8f5e8
    style E fill:#fff3e0
```

**ì²˜ë¦¬ ë‚´ìš© (INFERRED ì§„í™” ì¤‘ì‹¬)**:
- Java AST íŒŒì‹± (ì•ˆì „í•œ Fallback í¬í•¨)
- **í´ë˜ìŠ¤/ë©”ì„œë“œ ì¶”ì¶œ**: Java ì½”ë“œì—ì„œ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œ ì •ë³´ ì¶”ì¶œ
- **SQL ì¿¼ë¦¬ ì¶”ì¶œ**: JDBC, JPA, MyBatis í˜¸ì¶œì—ì„œ SQL ì¶”ì¶œ
- **ê³µí†µ SQL ë¶„ì„ ëª¨ë“ˆ í˜¸ì¶œ**: ì¶”ì¶œëœ SQLì„ ê³µí†µ ë¶„ì„ ëª¨ë“ˆë¡œ ì „ë‹¬
- **í…Œì´ë¸” ë„ì¶œ**: SQLì—ì„œ ëŒ€ìƒ í…Œì´ë¸” ì‹ë³„
- **ì¡°ì¸ ë„ì¶œ**: ëª…ì‹œì /ì•”ì‹œì  ì¡°ì¸ ì¡°ê±´ ë¶„ì„
- **INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ ìƒì„±**: ì¡°ì¸ì—ì„œ ë°œê²¬ëœ ëˆ„ë½ í…Œì´ë¸”/ì»¬ëŸ¼ ì¦‰ì‹œ ìƒì„±
- **XML INFERRED ì§„í™” ì²´í¬**: XMLì—ì„œ ìƒì„±í•œ INFERRED í…Œì´ë¸”/ì»¬ëŸ¼ì´ ì‹¤ì œ ì°¸ì¡°ë˜ë©´ ì •ì‹ ê°ì²´ë¡œ ì§„í™”
- **ë©”ì„œë“œ í˜¸ì¶œ íŒ¨í„´ ë¶„ì„**: í´ë˜ìŠ¤/ë©”ì„œë“œ ê°„ í˜¸ì¶œ ê´€ê³„ ë¶„ì„
- **ì¦‰ì‹œ ê´€ê³„ ë„ì¶œ**: ëª¨ë“  ê´€ê³„ë¥¼ ì¦‰ì‹œ ì¶”ì¶œí•˜ì—¬ ì €ì¥
- **INFERRED ì»´í¬ë„ŒíŠ¸ ìƒì„±**: ëˆ„ë½ëœ í´ë˜ìŠ¤/ë©”ì„œë“œë¥¼ INFERREDë¡œ ìƒì„± (ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì§„í™” ëŒ€ê¸°)
- ì•„í‚¤í…ì²˜ Layer ë¶„ë¥˜

**ê³ ê¸‰íŒŒì‹± vs ê¸°ë³¸íŒŒì‹± êµ¬ì²´ì  êµ¬í˜„**:

```python
# ê³ ê¸‰íŒŒì‹± (Enhanced Java Parser)
def enhanced_java_parsing(java_content):
    """ê³ ê¸‰ Java AST íŒŒì‹±"""
    try:
        # 1. ì™„ì „í•œ AST ë¶„ì„
        ast_tree = parse_complete_ast(java_content)
        
        # 2. ë³µì¡í•œ ë©”ì„œë“œ í˜¸ì¶œ ì²´ì¸ ë¶„ì„
        call_chains = analyze_method_call_chains(ast_tree)
        
        # 3. ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ ê´€ê³„ ë¶„ì„
        annotation_relationships = extract_annotation_relationships(ast_tree)
        
        # 4. ì œë„¤ë¦­ íƒ€ì… ë¶„ì„
        generic_relationships = analyze_generic_types(ast_tree)
        
        return {
            'classes': extract_classes(ast_tree),
            'methods': extract_methods(ast_tree),
            'call_chains': call_chains,
            'annotations': annotation_relationships,
            'generics': generic_relationships
        }
    except Exception as e:
        warning(f"ê³ ê¸‰ Java íŒŒì‹± ì‹¤íŒ¨: {e}")
        return basic_java_parsing(java_content)

# ê¸°ë³¸íŒŒì‹± (Basic Java Parser)
def basic_java_parsing(java_content):
    """ê¸°ë³¸ Java íŒŒì‹± (ì•ˆì „í•œ Fallback)"""
    try:
        # 1. ì •ê·œì‹ìœ¼ë¡œ í´ë˜ìŠ¤ëª…ë§Œ ì¶”ì¶œ
        class_names = extract_class_names_regex(java_content)
        
        # 2. ì •ê·œì‹ìœ¼ë¡œ ë©”ì„œë“œëª…ë§Œ ì¶”ì¶œ
        method_names = extract_method_names_regex(java_content)
        
        # 3. ë‹¨ìˆœ import ë¶„ì„
        imports = extract_imports_regex(java_content)
        
        return {
            'classes': class_names,
            'methods': method_names,
            'imports': imports,
            'relationships': extract_basic_relationships()
        }
    except Exception as e:
        error(f"ê¸°ë³¸ Java íŒŒì‹±ë„ ì‹¤íŒ¨: {e}")
        return extract_minimal_java_info(java_content)
```

### 2.7 7ë‹¨ê³„: Frontend ë¶„ì„ + INFERRED ì§„í™”

```mermaid
flowchart TD
    A[Frontend íŒŒì¼ ì„ íƒ] --> B[íŒŒì¼ íƒ€ì… íŒë³„]
    B --> C{ì§€ì› íŒŒì¼ íƒ€ì…?}
    C -->|No| D[íŒŒì¼ ê±´ë„ˆë›°ê¸°]
    C -->|Yes| E[Frontend íŒŒì‹± ì‹œë„]
    E --> F{íŒŒì‹± ì„±ê³µ?}
    F -->|Yes| G[ê³ ê¸‰ ë¶„ì„ ìˆ˜í–‰]
    F -->|No| H[ê¸°ë³¸ íŒŒì‹±ìœ¼ë¡œ Fallback]
    G --> I["API í˜¸ì¶œ íŒ¨í„´ ì¶”ì¶œ"]
    H --> I
    I --> J["ì¦‰ì‹œ ê´€ê³„ ë„ì¶œ"]
    J --> K["Java INFERRED ì§„í™” ì²´í¬"]
    K --> L["INFERRED API ì»´í¬ë„ŒíŠ¸ ìƒì„±"]
    L --> M["URL íŒ¨í„´ ë¶„ì„"]
    M --> N["Controller ë§¤ì¹­"]
    N --> O["API ì»´í¬ë„ŒíŠ¸ ìƒì„±"]
    O --> P["ê´€ê³„ ìƒì„± ë° ì €ì¥"]
    P --> Q{ë” ë§ì€ Frontend?}
    Q -->|Yes| A
    Q -->|No| R["ë‹¤ìŒ ë‹¨ê³„ë¡œ"]
    
    style J fill:#e8f5e8
    style K fill:#e8f5e8
    style L fill:#e8f5e8
    style H fill:#fff3e0
```

**ì²˜ë¦¬ ë‚´ìš© (INFERRED ì§„í™” ì¤‘ì‹¬)**:
- JSP/JSX íŒŒì¼ ë¶„ì„ (ì•ˆì „í•œ Fallback í¬í•¨)
- **ì¦‰ì‹œ ê´€ê³„ ë„ì¶œ**: íŒŒì‹±ê³¼ ë™ì‹œì— ê´€ê³„ ì¶”ì¶œ
- **Java INFERRED ì§„í™” ì²´í¬**: Javaì—ì„œ ìƒì„±í•œ INFERRED ì»´í¬ë„ŒíŠ¸ê°€ ì‹¤ì œ í˜¸ì¶œë˜ë©´ ì •ì‹ ê°ì²´ë¡œ ì§„í™”
- API í˜¸ì¶œ íŒ¨í„´ â†’ í”„ë¡ íŠ¸ì—”ë“œ-ë°±ì—”ë“œ ê´€ê³„ ì¦‰ì‹œ ìƒì„±
- **INFERRED API ì»´í¬ë„ŒíŠ¸ ìƒì„±**: ëˆ„ë½ëœ API ì—”ë“œí¬ì¸íŠ¸ë¥¼ INFERREDë¡œ ìƒì„± (ìµœì¢… ë‹¨ê³„ì—ì„œ ì •ë¦¬)
- Controller ë©”ì„œë“œì™€ ë§¤ì¹­

**ê³ ê¸‰íŒŒì‹± vs ê¸°ë³¸íŒŒì‹± êµ¬ì²´ì  êµ¬í˜„**:

```python
# ê³ ê¸‰íŒŒì‹± (Enhanced Frontend Parser)
def enhanced_frontend_parsing(js_content):
    """ê³ ê¸‰ JavaScript/TypeScript íŒŒì‹±"""
    try:
        # 1. ì™„ì „í•œ AST ë¶„ì„
        ast_tree = parse_js_ast(js_content)
        
        # 2. ë³µì¡í•œ API í˜¸ì¶œ ì²´ì¸ ë¶„ì„
        api_chains = analyze_api_call_chains(ast_tree)
        
        # 3. ë¹„ë™ê¸° ì²˜ë¦¬ ë¶„ì„ (async/await, Promise)
        async_relationships = analyze_async_calls(ast_tree)
        
        # 4. ì»´í¬ë„ŒíŠ¸ ê°„ ê´€ê³„ ë¶„ì„
        component_relationships = analyze_component_relationships(ast_tree)
        
        return {
            'components': extract_components(ast_tree),
            'api_calls': api_chains,
            'async_calls': async_relationships,
            'component_relations': component_relationships
        }
    except Exception as e:
        warning(f"ê³ ê¸‰ Frontend íŒŒì‹± ì‹¤íŒ¨: {e}")
        return basic_frontend_parsing(js_content)

# ê¸°ë³¸íŒŒì‹± (Basic Frontend Parser)
def basic_frontend_parsing(js_content):
    """ê¸°ë³¸ JavaScript íŒŒì‹± (ì•ˆì „í•œ Fallback)"""
    try:
        # 1. ì •ê·œì‹ìœ¼ë¡œ API í˜¸ì¶œë§Œ ì¶”ì¶œ
        api_calls = extract_api_calls_regex(js_content)
        
        # 2. ì •ê·œì‹ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ëª…ë§Œ ì¶”ì¶œ
        component_names = extract_component_names_regex(js_content)
        
        # 3. ë‹¨ìˆœ import ë¶„ì„
        imports = extract_imports_regex(js_content)
        
        return {
            'api_calls': api_calls,
            'components': component_names,
            'imports': imports,
            'relationships': extract_basic_relationships()
        }
    except Exception as e:
        error(f"ê¸°ë³¸ Frontend íŒŒì‹±ë„ ì‹¤íŒ¨: {e}")
        return extract_minimal_frontend_info(js_content)
```

**ì•ˆì „í•œ Fallback ë©”ì»¤ë‹ˆì¦˜**:

```python
def safe_parsing_with_fallback(file_content, file_type):
    """ì•ˆì „í•œ Fallback ë©”ì»¤ë‹ˆì¦˜"""
    try:
        # 1ì°¨: ê³ ê¸‰íŒŒì‹± ì‹œë„
        result = enhanced_parsing(file_content, file_type)
        info(f"ê³ ê¸‰íŒŒì‹± ì„±ê³µ: {file_type}")
        return result
    except ParsingError as e:
        warning(f"ê³ ê¸‰íŒŒì‹± ì‹¤íŒ¨, ê¸°ë³¸íŒŒì‹±ìœ¼ë¡œ Fallback: {e}")
        try:
            # 2ì°¨: ê¸°ë³¸íŒŒì‹± ì‹œë„
            result = basic_parsing(file_content, file_type)
            info(f"ê¸°ë³¸íŒŒì‹± ì„±ê³µ: {file_type}")
            return result
        except Exception as e2:
            error(f"ê¸°ë³¸íŒŒì‹±ë„ ì‹¤íŒ¨: {e2}")
            # 3ì°¨: ìµœì†Œí•œì˜ ì •ë³´ë¼ë„ ì¶”ì¶œ
            return extract_minimal_info(file_content, file_type)

def extract_minimal_info(file_content, file_type):
    """ìµœì†Œí•œì˜ ì •ë³´ë¼ë„ ì¶”ì¶œ (ë¶€ë¶„ ì„±ê³µ)"""
    minimal_result = {
        'file_type': file_type,
        'file_size': len(file_content),
        'basic_components': [],
        'basic_relationships': [],
        'parsing_status': 'minimal_success'
    }
    
    # íŒŒì¼ëª…ì—ì„œ í´ë˜ìŠ¤ëª… ì¶”ì¶œ
    if file_type == 'java':
        class_name = extract_class_name_from_filename(file_content)
        minimal_result['basic_components'].append(class_name)
    
    # ìµœì†Œí•œì˜ ê´€ê³„ë¼ë„ ìƒì„±
    minimal_result['basic_relationships'] = create_minimal_relationships()
    
    return minimal_result
```

### 2.8 8ë‹¨ê³„: ê´€ê³„ í†µí•© ë° ìµœì¢… ì •ë¦¬

```mermaid
flowchart TD
    A[ëª¨ë“  ê´€ê³„ ì •ë³´ ìˆ˜ì§‘] --> B[ì¤‘ë³µ ê´€ê³„ íƒì§€]
    B --> C[ê´€ê³„ ìš°ì„ ìˆœìœ„ ê²°ì •]
    C --> D["ìµœì¢… INFERRED ì •ë¦¬"]
    D --> E["ê´€ê³„ ê²€ì¦"]
    E --> F["ê´€ê³„ ë„¤íŠ¸ì›Œí¬ ì™„ì„±"]
    F --> G["ì™„ë£Œ"]
    
    style D fill:#e8f5e8
    style F fill:#e8f5e8
```

**ì²˜ë¦¬ ë‚´ìš© (INFERRED ì§„í™” ì™„ë£Œ)**:
- **ì¤‘ë³µ ê´€ê³„ ì œê±°**: ì‹œìŠ¤í…œ ìˆ˜ì¤€ì—ì„œ ì¤‘ë³µ ê´€ê³„ ë°©ì§€
- **ê´€ê³„ ìš°ì„ ìˆœìœ„ ê²°ì •**: ë™ì¼í•œ ê´€ê³„ì˜ ìš°ì„ ìˆœìœ„ ì •ë¦¬
- **ìµœì¢… INFERRED ì •ë¦¬**: ì§„í™”ë˜ì§€ ëª»í•œ INFERRED ê°ì²´ë“¤ ì •ë¦¬ ë° ë¶„ë¥˜
- **ê´€ê³„ ê²€ì¦**: ìƒì„±ëœ ê´€ê³„ì˜ ì¼ê´€ì„± í™•ì¸
- **ê´€ê³„ ë„¤íŠ¸ì›Œí¬ ì™„ì„±**: ìµœì¢… ê´€ê³„ ë„¤íŠ¸ì›Œí¬ êµ¬ì¶•

### 2.9 9ë‹¨ê³„: ê²€ì¦ ë° ì •ë¦¬

```mermaid
flowchart TD
    A[ë©”íƒ€ë°ì´í„° ê²€ì¦] --> B["ê´€ê³„ ì¼ê´€ì„± í™•ì¸"]
    B --> C["ì¤‘ë³µ ë°ì´í„° ì •ë¦¬"]
    C --> D["ìµœì¢… ë©”íƒ€ë°ì´í„° ì™„ì„±"]
    D --> E["ì™„ë£Œ"]
    
    style D fill:#c8e6c9
```

**ì²˜ë¦¬ ë‚´ìš© (ì—°ê´€ê´€ê³„ ì¤‘ì‹¬)**:
- **ê´€ê³„ ì¼ê´€ì„± ê²€ì¦**: ìƒì„±ëœ ê´€ê³„ì˜ ì •í™•ì„± í™•ì¸
- **ì¤‘ë³µ ë°ì´í„° ì •ë¦¬**: ë¶ˆí•„ìš”í•œ ì¤‘ë³µ ì •ë³´ ì œê±°
- **ìµœì¢… ë©”íƒ€ë°ì´í„° ì™„ì„±**: ì˜í–¥í‰ê°€ ì¤€ë¹„ ì™„ë£Œ

### 2.10 ê³µí†µ íŒŒì¼ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°

**ê¸°ëŠ¥**: ë‹¤ì¤‘ ì¸ì½”ë”© ì§€ì›, íŒŒì¼ íƒ€ì… ê°ì§€, í•´ì‹œê°’ ìƒì„±

**ì§€ì›í•˜ëŠ” íŒŒì¼ íƒ€ì…**:
```python
SUPPORTED_EXTENSIONS = {
    'java': ['.java'],
    'xml': ['.xml'],
    'jsp': ['.jsp'],
    'sql': ['.sql'],
    'csv': ['.csv'],
    'yaml': ['.yaml', '.yml'],
    'properties': ['.properties'],
    'txt': ['.txt'],
    'json': ['.json'],
    'vue': ['.vue'],
    'jsx': ['.jsx'],
    'tsx': ['.tsx'],
    'js': ['.js'],
    'ts': ['.ts']
}
```

**ë‹¤ì¤‘ ì¸ì½”ë”© ì§€ì›**:
```python
def read_file_with_encoding_fallback(file_path: str) -> str:
    """ë‹¤ì¤‘ ì¸ì½”ë”©ìœ¼ë¡œ íŒŒì¼ ì½ê¸°"""
    
    # ì¸ì½”ë”© ìš°ì„ ìˆœìœ„: utf-8 â†’ utf-8-sig â†’ cp949 â†’ euc-kr
    encodings = ['utf-8', 'utf-8-sig', 'cp949', 'euc-kr']
    
    for encoding in encodings:
        try:
            with open(file_path, 'r', encoding=encoding) as file:
                content = file.read()
                debug(f"íŒŒì¼ ì½ê¸° ì„±ê³µ ({encoding}): {file_path}")
                return content
        except UnicodeDecodeError:
            continue
        except Exception as e:
            handle_error(e, f"íŒŒì¼ ì½ê¸° ì‹¤íŒ¨: {file_path}")
    
    # ëª¨ë“  ì¸ì½”ë”© ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ì²˜ë¦¬
    handle_error(Exception(f"ëª¨ë“  ì¸ì½”ë”© ì‹œë„ ì‹¤íŒ¨: {file_path}"), f"íŒŒì¼ ì¸ì½”ë”© ë¬¸ì œ: {file_path}")
```

**íŒŒì¼ í•´ì‹œê°’ ìƒì„±**:
```python
def get_file_hash(file_path: str) -> str:
    """íŒŒì¼ ë‚´ìš© ê¸°ë°˜ MD5 í•´ì‹œê°’ ìƒì„±"""
    try:
        hash_md5 = hashlib.md5()
        with open(file_path, "rb") as f:
            for chunk in iter(lambda: f.read(4096), b""):
                hash_md5.update(chunk)
        return hash_md5.hexdigest()
    except Exception as e:
        handle_error(e, f"íŒŒì¼ í•´ì‹œ ê³„ì‚° ì‹¤íŒ¨: {file_path}")

def get_content_hash(content: str) -> str:
    """ë¬¸ìì—´ ë‚´ìš©ì˜ MD5 í•´ì‹œê°’ ê³„ì‚°"""
    return hashlib.md5(content.encode('utf-8')).hexdigest()
```

**í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ ì •ê·œí™”**:
```python
def normalize_path_for_database(file_path: str) -> tuple[str, str]:
    """íŒŒì¼ ê²½ë¡œë¥¼ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ìš©ìœ¼ë¡œ ì •ê·œí™”
    
    Returns:
        tuple: (file_path, file_name) - Unix ìŠ¤íƒ€ì¼ êµ¬ë¶„ìë¡œ í†µì¼
    """
    import os
    
    # Unix ìŠ¤íƒ€ì¼(`/`) êµ¬ë¶„ìë¡œ ì •ê·œí™” (í¬ë¡œìŠ¤í”Œë«í¼ í†µì¼)
    normalized_path = normalize_path_separator(file_path, 'unix')
    
    # íŒŒì¼ëª…ê³¼ ë””ë ‰í† ë¦¬ ê²½ë¡œ ë¶„ë¦¬
    file_name = os.path.basename(normalized_path)
    dir_path = os.path.dirname(normalized_path)
    
    return dir_path, file_name

# ì‚¬ìš© ì˜ˆì‹œ:
# ì…ë ¥: "src\\main\\java\\com\\example\\controller\\UserController.java"
# ì¶œë ¥: ("src/main/java/com/example/controller", "UserController.java")

# í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ ì •ê·œí™” (Unix ìŠ¤íƒ€ì¼ë¡œ í†µì¼)
normalized_path = normalize_path_separator("src\\main\\java\\com\\example", 'unix')
# ê²°ê³¼: "src/main/java/com/example"
```

**íŒŒì¼ íƒ€ì… ê°ì§€**:
```python
def get_file_type(file_path: str) -> str:
    """íŒŒì¼ í™•ì¥ìë¡œ íƒ€ì… ê°ì§€"""
    file_extension = Path(file_path).suffix.lower()
    
    for file_type, extensions in SUPPORTED_EXTENSIONS.items():
        if file_extension in extensions:
            return file_type
    
    return 'unknown'
```

### 2.7 SQL Content ê´€ë¦¬ ì‹œìŠ¤í…œ

**ê¸°ëŠ¥**: ì •ì œëœ SQL ë‚´ìš©ì˜ ì••ì¶• ì €ì¥, í”„ë¡œì íŠ¸ë³„ DB ê´€ë¦¬, ë°°ì¹˜ ì²˜ë¦¬

**ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°**:
```sql
-- SQL Content ì „ìš© ë°ì´í„°ë² ì´ìŠ¤ (SqlContent.db)
CREATE TABLE IF NOT EXISTS projects (
    project_id INTEGER PRIMARY KEY AUTOINCREMENT,
    project_name VARCHAR(100) NOT NULL,
    project_path VARCHAR(500) NOT NULL,
    created_at DATETIME DEFAULT (datetime('now', '+9 hours')),
    updated_at DATETIME DEFAULT (datetime('now', '+9 hours')),
    del_yn CHAR(1) DEFAULT 'N'
);

CREATE TABLE IF NOT EXISTS sql_contents (
    content_id INTEGER PRIMARY KEY AUTOINCREMENT,
    project_id INTEGER NOT NULL,
    file_id INTEGER,                         -- íŒŒì¼ ID (XMLíŒŒì¼ ë˜ëŠ” JavaíŒŒì¼)
    component_id INTEGER,                    -- ì»´í¬ë„ŒíŠ¸ ID (SQL_* íƒ€ì… ë˜ëŠ” QUERY íƒ€ì…)
    component_name VARCHAR(200),             -- ì»´í¬ë„ŒíŠ¸ëª… (ì¿¼ë¦¬ ID)
    sql_content_compressed BLOB NOT NULL,    -- gzip ì••ì¶•ëœ ì •ì œëœ SQL ë‚´ìš©
    query_type VARCHAR(20) NOT NULL,         -- 'SQL_SELECT', 'SQL_INSERT', 'SQL_UPDATE', 'SQL_DELETE', 'SQL_MERGE', 'QUERY'
    file_path VARCHAR(500),                  -- íŒŒì¼ ê²½ë¡œ
    file_name VARCHAR(200),                  -- íŒŒì¼ëª…
    line_start INTEGER,                      -- ì‹œì‘ ë¼ì¸
    line_end INTEGER,                        -- ì¢…ë£Œ ë¼ì¸
    hash_value VARCHAR(64),                  -- SQL ë‚´ìš© í•´ì‹œê°’
    error_message TEXT,                      -- ì˜¤ë¥˜ ë©”ì‹œì§€
    created_at DATETIME DEFAULT (datetime('now', '+9 hours')),
    updated_at DATETIME DEFAULT (datetime('now', '+9 hours')),
    del_yn CHAR(1) DEFAULT 'N',
    FOREIGN KEY (project_id) REFERENCES projects(project_id)
);
```

**gzip ì••ì¶• ì €ì¥**:
```python
class SqlContentManager:
    """ì •ì œëœ SQL ë‚´ìš© ê´€ë¦¬ í´ë˜ìŠ¤"""
    
    def __init__(self, project_name: str):
        """í”„ë¡œì íŠ¸ë³„ SqlContent.db ì´ˆê¸°í™”"""
        self.project_name = project_name
        self.db_path = f"projects/{project_name}/SqlContent.db"
        self._initialize_database()
    
    def save_sql_content(self, sql_content: str, project_id: int, **kwargs) -> bool:
        """ì •ì œëœ SQL ë‚´ìš© ì €ì¥ (gzip ì••ì¶•)"""
        try:
            # gzip ì••ì¶•
            compressed_content = self._compress_content(sql_content)
            
            # ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
            sql_content_data = {
                'project_id': project_id,
                'file_id': kwargs.get('file_id'),
                'component_id': kwargs.get('component_id'),
                'sql_content_compressed': compressed_content,  # ì••ì¶•ëœ BLOB
                'query_type': kwargs.get('query_type', 'UNKNOWN'),
                'file_path': kwargs.get('file_path'),
                'component_name': kwargs.get('component_name'),
                'file_name': kwargs.get('file_name'),
                'line_start': kwargs.get('line_start'),
                'line_end': kwargs.get('line_end'),
                'hash_value': kwargs.get('hash_value'),
                'error_message': kwargs.get('error_message'),
                'del_yn': 'N'
            }
            
            # UPSERT (hash_value ê¸°ë°˜ ë³€ë™ë¶„ ê°ì§€)
            return self._upsert_sql_content(sql_content_data)
            
        except Exception as e:
            handle_error(e, "SQL ë‚´ìš© ì €ì¥ ì‹¤íŒ¨")
    
    def _compress_content(self, sql_content: str) -> bytes:
        """SQL ë‚´ìš©ì„ gzipìœ¼ë¡œ ì••ì¶•"""
        try:
            return gzip.compress(sql_content.encode('utf-8'))
        except Exception as e:
            app_logger.error(f"SQL ë‚´ìš© ì••ì¶• ì‹¤íŒ¨: {str(e)}")
            return sql_content.encode('utf-8')  # ì••ì¶• ì‹¤íŒ¨ ì‹œ ì›ë³¸ ì €ì¥
    
    def _decompress_content(self, compressed_data: bytes) -> str:
        """ì••ì¶•ëœ SQL ë‚´ìš©ì„ gzipìœ¼ë¡œ ì••ì¶• í•´ì œ"""
        try:
            return gzip.decompress(compressed_data).decode('utf-8')
        except Exception as e:
            app_logger.error(f"SQL ë‚´ìš© ì••ì¶• í•´ì œ ì‹¤íŒ¨: {str(e)}")
            return compressed_data.decode('utf-8', errors='replace')
```

**ë°°ì¹˜ ì²˜ë¦¬ ë° íš¨ìœ¨ì„±**:
```python
def _upsert_sql_content(self, sql_content_data: Dict[str, Any]) -> bool:
    """hash_value ê¸°ë°˜ ë³€ë™ë¶„ ê°ì§€ UPSERT"""
    try:
        project_id = sql_content_data.get('project_id')
        component_id = sql_content_data.get('component_id')
        hash_value = sql_content_data.get('hash_value', '-')
        
        # ê¸°ì¡´ ë°ì´í„° ì¡°íšŒ (hash_value ë¹„êµìš©)
        check_query = """
            SELECT content_id, hash_value, del_yn 
            FROM sql_contents 
            WHERE project_id = ? AND component_id = ?
        """
        existing_results = self.db_utils.execute_query(check_query, (project_id, component_id))
        
        if existing_results:
            existing_content_id, existing_hash, existing_del_yn = existing_results[0]
            
            # hash_valueê°€ ê°™ìœ¼ë©´ ì—…ë°ì´íŠ¸ ë¶ˆí•„ìš” (ì„±ëŠ¥ ìµœì í™”)
            if existing_hash == hash_value and existing_del_yn == 'N':
                app_logger.debug(f"SQL Content ë³€ê²½ ì—†ìŒ (ìŠ¤í‚µ): {sql_content_data.get('component_name', 'unknown')}")
                return True
            
            # hash_valueê°€ ë‹¤ë¥´ë©´ UPSERT (ê¸°ì¡´ ë°ì´í„° ì—…ë°ì´íŠ¸)
            update_query = """
                UPDATE sql_contents 
                SET file_id = ?, sql_content_compressed = ?, query_type = ?, 
                    file_path = ?, component_name = ?, file_name = ?, 
                    line_start = ?, line_end = ?, hash_value = ?, 
                    error_message = ?, del_yn = 'N'
                WHERE project_id = ? AND component_id = ?
            """
            # ... ì—…ë°ì´íŠ¸ ì‹¤í–‰ ...
            
        else:
            # ê¸°ì¡´ ë°ì´í„°ê°€ ì—†ìœ¼ë©´ INSERT
            success = self.db_utils.insert_record('sql_contents', sql_content_data)
            
        return success
        
    except Exception as e:
        handle_error(e, "SQL Content UPSERT ì‹¤íŒ¨")
```

**ì‚­ì œëœ SQL Content ì •ë¦¬**:
```python
def cleanup_deleted_sql_contents(self, project_id: int, current_component_ids: List[int]) -> int:
    """ì‚­ì œëœ SQL Content ì •ë¦¬ (í˜„ì¬ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” component_idì˜ SQL Contentë¥¼ ì‚­ì œ)"""
    try:
        if not current_component_ids:
            return 0
        
        # ì‚­ì œí•  SQL Content ì¡°íšŒ (í˜„ì¬ component_idì— ì—†ëŠ” ê²ƒë“¤)
        placeholders = ', '.join(['?' for _ in current_component_ids])
        select_query = f"""
            SELECT content_id, component_name 
            FROM sql_contents 
            WHERE project_id = ? AND component_id NOT IN ({placeholders}) AND del_yn = 'N'
        """
        
        # ì‚­ì œëœ SQL Contentë¥¼ del_yn = 'Y'ë¡œ ì—…ë°ì´íŠ¸ (ì†Œí”„íŠ¸ ì‚­ì œ)
        delete_query = f"""
            UPDATE sql_contents 
            SET del_yn = 'Y', updated_at = CURRENT_TIMESTAMP
            WHERE project_id = ? AND component_id NOT IN ({placeholders}) AND del_yn = 'N'
        """
        
        # ... ì‹¤í–‰ ë° ë¡œê¹… ...
        
    except Exception as e:
        app_logger.error(f"ì‚­ì œëœ SQL Content ì •ë¦¬ ì‹¤íŒ¨: {str(e)}")
        return 0
```

**ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™” ì„¤ì •**:
```sql
-- SQLite ì„±ëŠ¥ ìµœì í™”
PRAGMA journal_mode = WAL;        -- Write-Ahead Logging
PRAGMA synchronous = NORMAL;      -- ì„±ëŠ¥ê³¼ ì•ˆì •ì„± ê· í˜•
PRAGMA cache_size = 10000;        -- ìºì‹œ í¬ê¸° ì¦ê°€
PRAGMA temp_store = MEMORY;       -- ì„ì‹œ í…Œì´ë¸”ì„ ë©”ëª¨ë¦¬ì— ì €ì¥
PRAGMA foreign_keys = OFF;        -- ë³„ë„ DBì´ë¯€ë¡œ ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ ë¹„í™œì„±í™”
```

### 2.8 ì‹œê°í™” ë¦¬í¬íŠ¸ ìƒì„± (ì¸ë¼ì¸ ë¦¬ì†ŒìŠ¤)

**ê¸°ëŠ¥**: CSS/JS íŒŒì¼ì„ HTMLì— ì¸ë¼ì¸ìœ¼ë¡œ í¬í•¨í•˜ì—¬ ë³„ë„ íŒŒì¼ ì—†ì´ ë·°ì‰ ê°€ëŠ¥

**ì¸ë¼ì¸ ë¦¬ì†ŒìŠ¤ í¬í•¨ ë°©ì‹**:
```python
class InlineResourceManager:
    """ì¸ë¼ì¸ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ í´ë˜ìŠ¤"""
    
    def __init__(self):
        self.css_content = self._load_css_files()
        self.js_content = self._load_js_files()
    
    def _load_css_files(self) -> str:
        """CSS íŒŒì¼ë“¤ì„ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ë¡œë“œ"""
        css_files = [
            'reports/css/woori.css',  # ë©”ì¸ ìŠ¤íƒ€ì¼
            # ì¶”ê°€ CSS íŒŒì¼ë“¤...
        ]
        
        combined_css = ""
        for css_file in css_files:
            try:
                with open(css_file, 'r', encoding='utf-8') as f:
                    combined_css += f.read() + "\n"
            except Exception as e:
                app_logger.warning(f"CSS íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨: {css_file} - {str(e)}")
        
        return combined_css
    
    def _load_js_files(self) -> str:
        """JavaScript íŒŒì¼ë“¤ì„ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ ë¡œë“œ"""
        js_files = [
            'reports/js/jquery-3.6.0.min.js',
            'reports/js/cytoscape.min.js',
            'reports/js/dagre.min.js',
            'reports/js/cytoscape-dagre.js',
            'reports/js/cytoscape-fcose.js',
            'reports/js/jquery.qtip.min.js',
            # ì¶”ê°€ JS íŒŒì¼ë“¤...
        ]
        
        combined_js = ""
        for js_file in js_files:
            try:
                with open(js_file, 'r', encoding='utf-8') as f:
                    combined_js += f.read() + "\n"
            except Exception as e:
                app_logger.warning(f"JS íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨: {js_file} - {str(e)}")
        
        return combined_js
    
    def generate_html_with_inline_resources(self, template_name: str, **kwargs) -> str:
        """ì¸ë¼ì¸ ë¦¬ì†ŒìŠ¤ê°€ í¬í•¨ëœ HTML ìƒì„±"""
        
        if template_name == 'callchain':
            return self._generate_callchain_html(**kwargs)
        elif template_name == 'erd':
            return self._generate_erd_html(**kwargs)
        elif template_name == 'architecture':
            return self._generate_architecture_html(**kwargs)
        # ... ë‹¤ë¥¸ í…œí”Œë¦¿ë“¤
        
        return ""
    
    def _generate_callchain_html(self, project_name: str, timestamp: str, **kwargs) -> str:
        """CallChain Report HTML ìƒì„± (ì¸ë¼ì¸ ë¦¬ì†ŒìŠ¤ í¬í•¨)"""
        return f"""<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CallChain Report - {project_name}</title>
    <style>
        {self.css_content}
    </style>
</head>
<body class="callchain-body">
    <div class="callchain-container">
        <div class="callchain-header">
            <div class="header-left">
                <h1>CallChain Report</h1>
                <div class="subtitle">í”„ë¡œì íŠ¸: {project_name} | ìƒì„±ì¼ì‹œ: {timestamp}</div>
            </div>
            <div class="header-right">
                <button onclick="exportToCSV()" class="csv-export-btn">ğŸ“Š CSV ë‹¤ìš´ë¡œë“œ</button>
            </div>
        </div>
        <!-- ì½˜í…ì¸  ì˜ì—­ -->
        <div class="callchain-content">
            <!-- í†µê³„ ì¹´ë“œë“¤ -->
            <div class="callchain-stats">
                <!-- í†µê³„ ì¹´ë“œ HTML -->
            </div>
            <!-- ì—°ê³„ ì²´ì¸ í…Œì´ë¸” -->
            <div class="callchain-section">
                <div class="callchain-table-container">
                    <table id="chainTable" class="callchain-table">
                        <!-- í…Œì´ë¸” ë‚´ìš© -->
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        {self.js_content}
        
        // CallChain ì „ìš© JavaScript
        function exportToCSV() {{
            // CSV ë‹¤ìš´ë¡œë“œ ë¡œì§
        }}
        
        function filterTable() {{
            // í…Œì´ë¸” í•„í„°ë§ ë¡œì§
        }}
        
        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {{
            // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰í•  ì´ˆê¸°í™” ì½”ë“œ
        }});
    </script>
</body>
</html>"""
    
    def _generate_erd_html(self, project_name: str, timestamp: str, **kwargs) -> str:
        """ERD Report HTML ìƒì„± (ì¸ë¼ì¸ ë¦¬ì†ŒìŠ¤ í¬í•¨)"""
        return f"""<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERD Report - {project_name}</title>
    <style>
        {self.css_content}
        
        /* ERD ì „ìš© ìŠ¤íƒ€ì¼ */
        .erd-container {{
            width: 100%;
            height: 80vh;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            background: white;
        }}
        
        .erd-controls {{
            margin-bottom: 20px;
            text-align: center;
        }}
        
        .erd-controls button {{
            margin: 0 5px;
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background: var(--primary-blue);
            color: white;
            cursor: pointer;
        }}
        
        .erd-controls button:hover {{
            background: var(--primary-dark);
        }}
    </style>
</head>
<body class="erd-body">
    <div class="erd-container">
        <div class="erd-header">
            <h1>ERD Report</h1>
            <div class="subtitle">í”„ë¡œì íŠ¸: {project_name} | ìƒì„±ì¼ì‹œ: {timestamp}</div>
        </div>
        
        <div class="erd-controls">
            <button onclick="fitToScreen()">í™”ë©´ì— ë§ì¶¤</button>
            <button onclick="resetZoom()">ì´ˆê¸°í™”</button>
            <button onclick="exportAsPNG()">PNG ë‹¤ìš´ë¡œë“œ</button>
        </div>
        
        <div id="cy" class="erd-container"></div>
    </div>
    
    <script>
        {self.js_content}
        
        // ERD ì „ìš© JavaScript
        let cy;
        
        function initERD() {{
            cy = cytoscape({{
                container: document.getElementById('cy'),
                elements: {kwargs.get('elements', [])},
                style: [
                    {{
                        selector: 'node',
                        style: {{
                            'background-color': '#1976d2',
                            'label': 'data(label)',
                            'text-valign': 'center',
                            'text-halign': 'center',
                            'color': 'white',
                            'font-size': '12px',
                            'font-weight': 'bold'
                        }}
                    }},
                    {{
                        selector: 'edge',
                        style: {{
                            'width': 2,
                            'line-color': '#666',
                            'target-arrow-color': '#666',
                            'target-arrow-shape': 'triangle'
                        }}
                    }}
                ],
                layout: {{
                    name: 'dagre',
                    rankDir: 'TB',
                    spacingFactor: 1.5
                }}
            }});
        }}
        
        function fitToScreen() {{
            if (cy) cy.fit();
        }}
        
        function resetZoom() {{
            if (cy) {{
                cy.zoom(1);
                cy.center();
            }}
        }}
        
        function exportAsPNG() {{
            if (cy) {{
                const pngBlob = cy.png({{output: 'blob'}});
                const url = URL.createObjectURL(pngBlob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'erd_diagram.png';
                a.click();
                URL.revokeObjectURL(url);
            }}
        }}
        
        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {{
            initERD();
        }});
    </script>
</body>
</html>"""
```

**ì˜¤í”„ë¼ì¸ ì‹¤í–‰ ì¥ì **:
```python
def generate_standalone_report(self, report_type: str, output_path: str, **kwargs) -> bool:
    """ë…ë¦½ ì‹¤í–‰ ê°€ëŠ¥í•œ ë¦¬í¬íŠ¸ ìƒì„±"""
    try:
        # ì¸ë¼ì¸ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ì ì´ˆê¸°í™”
        resource_manager = InlineResourceManager()
        
        # HTML ìƒì„±
        html_content = resource_manager.generate_html_with_inline_resources(
            report_type, **kwargs
        )
        
        # ë‹¨ì¼ HTML íŒŒì¼ë¡œ ì €ì¥
        with open(output_path, 'w', encoding='utf-8') as f:
            f.write(html_content)
        
        app_logger.info(f"ë…ë¦½ ì‹¤í–‰ ê°€ëŠ¥í•œ ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ: {output_path}")
        return True
        
    except Exception as e:
        handle_error(e, f"ë¦¬í¬íŠ¸ ìƒì„± ì‹¤íŒ¨: {output_path}")
        return False
```

**ë¦¬ì†ŒìŠ¤ í¬í•¨ ë°©ì‹**:
1. **CSS ì¸ë¼ì¸**: `<style>` íƒœê·¸ ë‚´ì— ëª¨ë“  CSS ì½”ë“œ í¬í•¨
2. **JavaScript ì¸ë¼ì¸**: `<script>` íƒœê·¸ ë‚´ì— ëª¨ë“  JS ì½”ë“œ í¬í•¨
3. **ì™¸ë¶€ ì˜ì¡´ì„± ì œê±°**: CDN ë§í¬ ì œê±°, ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œì»¬ í¬í•¨
4. **ë‹¨ì¼ íŒŒì¼**: í•˜ë‚˜ì˜ HTML íŒŒì¼ë¡œ ëª¨ë“  ê¸°ëŠ¥ í¬í•¨

### 2.9 ê³µí†µ ë¡œê¹… ì‹œìŠ¤í…œ

**ê¸°ëŠ¥**: ì†ŒìŠ¤íŒŒì¼ëª…ê³¼ ë¼ì¸ë²ˆí˜¸ê°€ í¬í•¨ëœ ë¡œê·¸ ì¶œë ¥, ì—ëŸ¬ ë°œìƒ ì‹œ ìƒì„¸í•œ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤

**ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¡°**:
```python
class SourceAnalyzerLogger:
    """SourceAnalyzer ì „ìš© ë¡œê±° í´ë˜ìŠ¤"""
    
    def __init__(self, logger_name: str = "SourceAnalyzer"):
        """ë¡œê±° ì´ˆê¸°í™”"""
        self.logger_name = logger_name
        self.logger = logging.getLogger(logger_name)
        self.log_file_path = self._get_log_file_path()
        self._setup_logger()
    
    def _get_log_file_path(self) -> str:
        """ë¡œê·¸ íŒŒì¼ ê²½ë¡œ ìƒì„± (íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨)"""
        timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
        return f"logs/SourceAnalyzer_{timestamp}.log"
    
    def _setup_logger(self):
        """ë¡œê±° ì„¤ì • - íŒŒì¼ëª…:ë¼ì¸ë²ˆí˜¸ í¬í•¨ í¬ë§·í„°"""
        try:
            # ë¡œê·¸ ë””ë ‰í† ë¦¬ ìƒì„±
            os.makedirs("logs", exist_ok=True)
            
            # íŒŒì¼ í•¸ë“¤ëŸ¬
            file_handler = logging.FileHandler(
                self.log_file_path,
                encoding='utf-8'
            )
            file_handler.setLevel(logging.INFO)
            
            # ì½˜ì†” í•¸ë“¤ëŸ¬
            console_handler = logging.StreamHandler(sys.stdout)
            console_handler.setLevel(logging.INFO)
            
            # í¬ë§·í„° (íŒŒì¼ëª…:ë¼ì¸ë²ˆí˜¸ í¬í•¨)
            formatter = logging.Formatter(
                '%(asctime)s - %(name)s - %(levelname)s - %(filename)s:%(lineno)d - %(message)s'
            )
            file_handler.setFormatter(formatter)
            console_handler.setFormatter(formatter)
            
            self.logger.addHandler(file_handler)
            self.logger.addHandler(console_handler)
            self.logger.setLevel(logging.INFO)
            
        except Exception as e:
            print(f"ë¡œê¹… ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹¤íŒ¨: {e}")
            sys.exit(1)
```

**ë¡œê·¸ ì¶œë ¥ í•¨ìˆ˜ë“¤ (stacklevel=2ë¡œ ì‹¤ì œ í˜¸ì¶œì í‘œì‹œ)**:
```python
def debug(self, message: str) -> None:
    """DEBUG ë ˆë²¨ ë¡œê·¸ - ì‹¤ì œ í˜¸ì¶œí•œ íŒŒì¼ëª…:ë¼ì¸ë²ˆí˜¸ í‘œì‹œ"""
    try:
        # stacklevel=2: debug() -> ì‹¤ì œ í˜¸ì¶œí•œ ì½”ë“œ (logger.pyì˜ debug ë©”ì„œë“œë¥¼ ê±´ë„ˆë›°ê³  ì‹¤ì œ í˜¸ì¶œìë¡œ ì´ë™)
        self.logger.debug(message, stacklevel=2)
    except RecursionError:
        # Recursion limit ì´ˆê³¼ì‹œ printë¡œ fallback
        print(f"[DEBUG] {message}")

def info(self, message: str) -> None:
    """INFO ë ˆë²¨ ë¡œê·¸"""
    try:
        self.logger.info(message, stacklevel=2)
    except RecursionError:
        print(f"[INFO] {message}")

def warning(self, message: str) -> None:
    """WARNING ë ˆë²¨ ë¡œê·¸"""
    try:
        self.logger.warning(message, stacklevel=2)
    except RecursionError:
        print(f"[WARNING] {message}")

def error(self, message: str) -> None:
    """ERROR ë ˆë²¨ ë¡œê·¸"""
    try:
        self.logger.error(message, stacklevel=2)
    except RecursionError:
        print(f"[ERROR] {message}")
```

**ì—ëŸ¬ ì²˜ë¦¬ í•¨ìˆ˜ (ìƒì„¸í•œ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ í¬í•¨)**:
```python
def handle_error(self, 
                error: Exception, 
                custom_message: Optional[str] = None,
                exit_code: int = 1) -> None:
    """
    ì—ëŸ¬ ë¡œê·¸ ê¸°ë¡ í›„ í”„ë¡œê·¸ë¨ ì¢…ë£Œ
    - ì—ëŸ¬ ë°œìƒí•œ íŒŒì¼ëª…:ë¼ì¸ë²ˆí˜¸ í‘œì‹œ
    - í•´ë‹¹ ë¼ì¸ì˜ ì½”ë“œ ë‚´ìš© í‘œì‹œ
    - ì „ì²´ ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ í‘œì‹œ
    """
    try:
        # ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì—ì„œ ë¼ì¸ë²ˆí˜¸ ì¶”ì¶œ
        tb = traceback.extract_tb(error.__traceback__)
    except RecursionError:
        self.logger.error(f"[ERROR] RecursionError in traceback processing")
        tb = None
    
    if tb:
        # ê°€ì¥ ìµœê·¼ í”„ë ˆì„ (ì—ëŸ¬ ë°œìƒ ìœ„ì¹˜)
        frame = tb[-1]
        filename = frame.filename
        line_number = frame.lineno
        function_name = frame.name
        code_line = frame.line
        
        # ì—ëŸ¬ ë©”ì‹œì§€ êµ¬ì„±
        error_msg = f"FATAL ERROR at {filename}:{line_number} in {function_name}()"
        if code_line:
            error_msg += f"\nCode: {code_line.strip()}"
        
        if custom_message:
            error_msg += f"\nMessage: {custom_message}"
        
        error_msg += f"\nException: {type(error).__name__}: {str(error)}"
        
        # ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ì¶”ê°€
        error_msg += f"\nStack Trace:\n{traceback.format_exc()}"
        
    else:
        # ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ê°€ ì—†ëŠ” ê²½ìš°
        error_msg = f"FATAL ERROR: {type(error).__name__}: {str(error)}"
        if custom_message:
            error_msg += f"\nMessage: {custom_message}"
    
    # ì—ëŸ¬ ë¡œê·¸ ê¸°ë¡
    self.logger.error(error_msg)
    
    # í”„ë¡œê·¸ë¨ ì¢…ë£Œ
    self.logger.error(f"\n[FATAL ERROR] í”„ë¡œê·¸ë¨ì´ ì—ëŸ¬ë¡œ ì¸í•´ ì¢…ë£Œë©ë‹ˆë‹¤. (ì¢…ë£Œì½”ë“œ: {exit_code})")
    self.logger.error(f"ìì„¸í•œ ë‚´ìš©ì€ ë¡œê·¸ íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”: {self.log_file_path}")
    sys.exit(exit_code)
```

**í¸ì˜ í•¨ìˆ˜ë“¤ (ì „ì—­ ì‚¬ìš©)**:
```python
# ì „ì—­ ë¡œê±° ì¸ìŠ¤í„´ìŠ¤
app_logger = SourceAnalyzerLogger()

# í¸ì˜ í•¨ìˆ˜ë“¤
def debug(message: str) -> None:
    """DEBUG ë¡œê·¸ í¸ì˜ í•¨ìˆ˜"""
    try:
        app_logger.logger.debug(message, stacklevel=2)
    except RecursionError:
        print(f"[DEBUG] {message}")

def info(message: str) -> None:
    """INFO ë¡œê·¸ í¸ì˜ í•¨ìˆ˜"""
    try:
        app_logger.logger.info(message, stacklevel=2)
    except RecursionError:
        print(f"[INFO] {message}")

def warning(message: str) -> None:
    """WARNING ë¡œê·¸ í¸ì˜ í•¨ìˆ˜"""
    try:
        app_logger.logger.warning(message, stacklevel=2)
    except RecursionError:
        print(f"[WARNING] {message}")

def error(message: str) -> None:
    """ERROR ë¡œê·¸ í¸ì˜ í•¨ìˆ˜"""
    try:
        app_logger.logger.error(message, stacklevel=2)
    except RecursionError:
        print(f"[ERROR] {message}")

def handle_error(error: Exception, 
                custom_message: Optional[str] = None,
                exit_code: int = 1) -> None:
    """ì „ì—­ ì—ëŸ¬ ì²˜ë¦¬ í•¨ìˆ˜"""
    app_logger.handle_error(error, custom_message, exit_code)
```

**ë¡œê·¸ ì¶œë ¥ ì˜ˆì‹œ**:
```
2024-01-15 14:30:25,123 - SourceAnalyzer - INFO - java_parser.py:45 - Java íŒŒì¼ ë¶„ì„ ì‹œì‘: UserService.java
2024-01-15 14:30:25,156 - SourceAnalyzer - DEBUG - java_parser.py:67 - í´ë˜ìŠ¤ ë°œê²¬: com.example.service.UserService
2024-01-15 14:30:25,189 - SourceAnalyzer - WARNING - xml_parser.py:123 - XML íŒŒì‹± ê²½ê³ : ì˜ëª»ëœ íƒœê·¸ êµ¬ì¡°
2024-01-15 14:30:25,234 - SourceAnalyzer - ERROR - java_parser.py:89 - FATAL ERROR at java_parser.py:89 in _parse_method()
Code: method_name = method.get('name')
Message: ë©”ì„œë“œ ì´ë¦„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤
Exception: AttributeError: 'NoneType' object has no attribute 'get'
Stack Trace:
Traceback (most recent call last):
  File "java_parser.py", line 89, in _parse_method
    method_name = method.get('name')
AttributeError: 'NoneType' object has no attribute 'get'
```

**ì‚¬ìš© ë°©ë²•**:
```python
from util.logger import debug, info, warning, error, handle_error

# ì¼ë°˜ ë¡œê·¸
info("íŒŒì¼ ë¶„ì„ ì‹œì‘")
debug("í´ë˜ìŠ¤ ë°œê²¬: UserService")
warning("XML íŒŒì‹± ê²½ê³ : ì˜ëª»ëœ íƒœê·¸ êµ¬ì¡°")

# ì—ëŸ¬ ì²˜ë¦¬
try:
    # ìœ„í—˜í•œ ì‘ì—…
    result = risky_operation()
except Exception as e:
    handle_error(e, "ìœ„í—˜í•œ ì‘ì—… ì‹¤íŒ¨")  # í”„ë¡œê·¸ë¨ ì¢…ë£Œ
```

### 2.11 í¬ë¡œìŠ¤í”Œë«í¼ ëŒ€ì‘ (Windows/RHEL)

**ê¸°ëŠ¥**: Windows ê°œë°œí™˜ê²½ê³¼ RHEL ìš´ì˜í™˜ê²½ ê°„ì˜ í˜¸í™˜ì„± ë³´ì¥

**ê²½ë¡œ ì²˜ë¦¬ í¬ë¡œìŠ¤í”Œë«í¼ ëŒ€ì‘**:
```python
class PathUtils:
    """í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°"""
    
    def normalize_path_separator(self, path: str, target_platform: str = 'auto') -> str:
        """
        ê²½ë¡œ êµ¬ë¶„ìë¥¼ í”Œë«í¼ì— ë§ê²Œ ì •ê·œí™”
        
        Args:
            path: ì •ê·œí™”í•  ê²½ë¡œ
            target_platform: ëŒ€ìƒ í”Œë«í¼ ('windows', 'unix', 'auto')
            
        Returns:
            ì •ê·œí™”ëœ ê²½ë¡œ
        """
        try:
            if not path:
                return ""
            
            if target_platform == 'auto':
                # í˜„ì¬ í”Œë«í¼ì— ë§ê²Œ ì •ê·œí™”
                return os.path.normpath(path)
            elif target_platform == 'windows':
                # Windows ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜ (\)
                return path.replace('/', '\\')
            elif target_platform == 'unix':
                # Unix ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜ (/) - ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ìš© í‘œì¤€
                return path.replace('\\', '/')
            else:
                return os.path.normpath(path)
                
        except Exception as e:
            handle_error(e, f"ê²½ë¡œ êµ¬ë¶„ì ì •ê·œí™” ì‹¤íŒ¨: {path}")
            return path
    
    # í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ ì •ê·œí™” (Unix ìŠ¤íƒ€ì¼ë¡œ í†µì¼)
    normalized_path = normalize_path_separator("src\\main\\java\\com\\example", 'unix')
    # ê²°ê³¼: "src/main/java/com/example"
    
    def is_cross_platform_path(self, path: str) -> bool:
        """
        í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œì¸ì§€ í™•ì¸ (Windowsì™€ Unix êµ¬ë¶„ìê°€ í˜¼ì¬)
        
        Args:
            path: í™•ì¸í•  ê²½ë¡œ
            
        Returns:
            í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ ì—¬ë¶€
        """
        try:
            if not path:
                return False
            
            # Windowsì™€ Unix êµ¬ë¶„ìê°€ ëª¨ë‘ ìˆëŠ”ì§€ í™•ì¸
            has_windows_sep = '\\' in path
            has_unix_sep = '/' in path
            
            return has_windows_sep and has_unix_sep
            
        except Exception as e:
            handle_error(e, f"í¬ë¡œìŠ¤í”Œë«í¼ ê²½ë¡œ í™•ì¸ ì‹¤íŒ¨: {path}")
            return False
    
    def convert_to_windows_path(self, path: str) -> str:
        """
        Unix ê²½ë¡œë¥¼ Windows ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜
        
        Args:
            path: ë³€í™˜í•  ê²½ë¡œ
            
        Returns:
            Windows ìŠ¤íƒ€ì¼ ê²½ë¡œ
        """
        return path.replace('/', '\\')
    
    def convert_to_unix_path(self, path: str) -> str:
        """
        Windows ê²½ë¡œë¥¼ Unix ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜
        
        Args:
            path: ë³€í™˜í•  ê²½ë¡œ
            
        Returns:
            Unix ìŠ¤íƒ€ì¼ ê²½ë¡œ
        """
        return path.replace('\\', '/')
```

**í”Œë«í¼ë³„ ê²½ë¡œ ì •ê·œí™”**:
```python
def normalize_for_platform(self, path: str) -> str:
    """í˜„ì¬ í”Œë«í¼ì— ë§ê²Œ ê²½ë¡œ ì •ê·œí™”"""
    try:
        # í˜„ì¬ í”Œë«í¼ ê°ì§€
        import platform
        current_platform = platform.system().lower()
        
        if current_platform == 'windows':
            # Windows: ë°±ìŠ¬ë˜ì‹œ ì‚¬ìš©, ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì•ˆí•¨
            normalized = os.path.normpath(path)
            return normalized.replace('/', '\\')
        else:
            # Linux/RHEL: ìŠ¬ë˜ì‹œ ì‚¬ìš©, ëŒ€ì†Œë¬¸ì êµ¬ë¶„
            normalized = os.path.normpath(path)
            return normalized.replace('\\', '/')
            
    except Exception as e:
        handle_error(e, f"í”Œë«í¼ë³„ ê²½ë¡œ ì •ê·œí™” ì‹¤íŒ¨: {path}")
        return path
```

**íŒŒì¼ ì‹œìŠ¤í…œ í¬ë¡œìŠ¤í”Œë«í¼ ëŒ€ì‘**:
```python
class CrossPlatformFileUtils:
    """í¬ë¡œìŠ¤í”Œë«í¼ íŒŒì¼ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°"""
    
    def __init__(self):
        self.platform = platform.system().lower()
        self.is_windows = self.platform == 'windows'
        self.is_linux = self.platform == 'linux'
    
    def get_temp_dir(self) -> str:
        """í”Œë«í¼ë³„ ì„ì‹œ ë””ë ‰í† ë¦¬ ê²½ë¡œ ë°˜í™˜"""
        if self.is_windows:
            # Windows: %TEMP% í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©
            return os.environ.get('TEMP', os.environ.get('TMP', 'C:\\Temp'))
        else:
            # Linux/RHEL: /tmp ì‚¬ìš©
            return '/tmp'
    
    def get_home_dir(self) -> str:
        """í”Œë«í¼ë³„ í™ˆ ë””ë ‰í† ë¦¬ ê²½ë¡œ ë°˜í™˜"""
        if self.is_windows:
            # Windows: %USERPROFILE% ì‚¬ìš©
            return os.environ.get('USERPROFILE', 'C:\\Users\\Default')
        else:
            # Linux/RHEL: $HOME ì‚¬ìš©
            return os.environ.get('HOME', '/home/user')
    
    def create_directory(self, path: str) -> bool:
        """í”Œë«í¼ë³„ ë””ë ‰í† ë¦¬ ìƒì„±"""
        try:
            # ê²½ë¡œ ì •ê·œí™”
            normalized_path = os.path.normpath(path)
            
            # ë””ë ‰í† ë¦¬ ìƒì„± (parents=Trueë¡œ ìƒìœ„ ë””ë ‰í† ë¦¬ë„ í•¨ê»˜ ìƒì„±)
            os.makedirs(normalized_path, exist_ok=True)
            
            # ê¶Œí•œ ì„¤ì • (Linux/RHELì—ì„œë§Œ)
            if self.is_linux:
                # ì‹¤í–‰ ê¶Œí•œ ì¶”ê°€ (755)
                os.chmod(normalized_path, 0o755)
            
            return True
            
        except Exception as e:
            handle_error(e, f"ë””ë ‰í† ë¦¬ ìƒì„± ì‹¤íŒ¨: {path}")
            return False
    
    def get_file_permissions(self, file_path: str) -> str:
        """í”Œë«í¼ë³„ íŒŒì¼ ê¶Œí•œ ì •ë³´ ë°˜í™˜"""
        try:
            if self.is_windows:
                # Windows: ê°„ë‹¨í•œ ì½ê¸°/ì“°ê¸° ì •ë³´ë§Œ
                if os.access(file_path, os.R_OK):
                    return "readable"
                elif os.access(file_path, os.W_OK):
                    return "writable"
                else:
                    return "no_access"
            else:
                # Linux/RHEL: 8ì§„ìˆ˜ ê¶Œí•œ í‘œì‹œ
                stat_info = os.stat(file_path)
                return oct(stat_info.st_mode)[-3:]
                
        except Exception as e:
            error(f"íŒŒì¼ ê¶Œí•œ í™•ì¸ ì‹¤íŒ¨: {file_path} - {str(e)}")
            return "unknown"
```

**ì¸ì½”ë”© í¬ë¡œìŠ¤í”Œë«í¼ ëŒ€ì‘**:
```python
def get_platform_encoding(self) -> str:
    """í”Œë«í¼ë³„ ê¸°ë³¸ ì¸ì½”ë”© ë°˜í™˜"""
    if self.is_windows:
        # Windows: CP949 (í•œê¸€ ì§€ì›)
        return 'cp949'
    else:
        # Linux/RHEL: UTF-8
        return 'utf-8'

def read_file_cross_platform(self, file_path: str) -> str:
    """í¬ë¡œìŠ¤í”Œë«í¼ íŒŒì¼ ì½ê¸°"""
    try:
        # í”Œë«í¼ë³„ ê¸°ë³¸ ì¸ì½”ë”© ì‹œë„
        default_encoding = self.get_platform_encoding()
        
        # ì¸ì½”ë”© ì‹œë„ ìˆœì„œ
        encodings = [default_encoding, 'utf-8', 'utf-8-sig', 'cp949', 'euc-kr', 'latin-1']
        
        for encoding in encodings:
            try:
                with open(file_path, 'r', encoding=encoding) as f:
                    content = f.read()
                    debug(f"íŒŒì¼ ì½ê¸° ì„±ê³µ ({encoding}): {file_path}")
                    return content
            except UnicodeDecodeError:
                continue
            except Exception as e:
                handle_error(e, f"íŒŒì¼ ì½ê¸° ì‹¤íŒ¨: {file_path}")
        
        # ëª¨ë“  ì¸ì½”ë”© ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ì²˜ë¦¬
        handle_error(Exception(f"ëª¨ë“  ì¸ì½”ë”© ì‹œë„ ì‹¤íŒ¨: {file_path}"), f"íŒŒì¼ ì¸ì½”ë”© ë¬¸ì œ: {file_path}")
        
    except Exception as e:
        handle_error(e, f"í¬ë¡œìŠ¤í”Œë«í¼ íŒŒì¼ ì½ê¸° ì‹¤íŒ¨: {file_path}")
```

**ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í¬ë¡œìŠ¤í”Œë«í¼ ëŒ€ì‘**:
```python
def get_database_config(self) -> Dict[str, str]:
    """í”Œë«í¼ë³„ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •"""
    config = {}
    
    if self.is_windows:
        # Windows ê°œë°œí™˜ê²½
        config.update({
            'host': 'localhost',
            'port': '1521',
            'service_name': 'XE',
            'encoding': 'utf-8',
            'nls_lang': 'KOREAN_KOREA.UTF8'
        })
    else:
        # Linux/RHEL ìš´ì˜í™˜ê²½
        config.update({
            'host': os.environ.get('DB_HOST', 'localhost'),
            'port': os.environ.get('DB_PORT', '1521'),
            'service_name': os.environ.get('DB_SERVICE', 'ORCL'),
            'encoding': 'utf-8',
            'nls_lang': 'KOREAN_KOREA.UTF8'
        })
    
    return config
```

**ì‹¤í–‰ í™˜ê²½ ê°ì§€**:
```python
def detect_environment(self) -> Dict[str, Any]:
    """ì‹¤í–‰ í™˜ê²½ ì •ë³´ ê°ì§€"""
    try:
        import platform
        
        env_info = {
            'platform': platform.system(),
            'platform_version': platform.version(),
            'architecture': platform.architecture()[0],
            'python_version': platform.python_version(),
            'is_windows': platform.system().lower() == 'windows',
            'is_linux': platform.system().lower() == 'linux',
            'is_rhel': self._is_rhel_system(),
            'working_directory': os.getcwd(),
            'environment_variables': dict(os.environ)
        }
        
        info(f"ì‹¤í–‰ í™˜ê²½ ê°ì§€: {env_info['platform']} {env_info['platform_version']}")
        return env_info
        
    except Exception as e:
        handle_error(e, "ì‹¤í–‰ í™˜ê²½ ê°ì§€ ì‹¤íŒ¨")

def _is_rhel_system(self) -> bool:
    """RHEL ì‹œìŠ¤í…œì¸ì§€ í™•ì¸"""
    try:
        if not self.is_linux:
            return False
        
        # /etc/redhat-release íŒŒì¼ í™•ì¸
        if os.path.exists('/etc/redhat-release'):
            with open('/etc/redhat-release', 'r') as f:
                content = f.read().lower()
                return 'red hat' in content or 'rhel' in content
        
        # /etc/os-release íŒŒì¼ í™•ì¸
        if os.path.exists('/etc/os-release'):
            with open('/etc/os-release', 'r') as f:
                content = f.read().lower()
                return 'redhat' in content or 'rhel' in content
        
        return False
        
    except Exception as e:
        error(f"RHEL ì‹œìŠ¤í…œ í™•ì¸ ì‹¤íŒ¨: {str(e)}")
        return False
```

**í¬ë¡œìŠ¤í”Œë«í¼ í…ŒìŠ¤íŠ¸**:
```python
def test_cross_platform_compatibility(self) -> bool:
    """í¬ë¡œìŠ¤í”Œë«í¼ í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸"""
    try:
        test_cases = [
            # ê²½ë¡œ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
            ('projects/{project_name}/config', 'projects\\{project_name}\\config'),
            ('logs/analysis.log', 'logs\\analysis.log'),
            ('temp/output.txt', 'temp\\output.txt'),
            
            # íŒŒì¼ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
            ('temp/cross_platform_test', 'temp\\cross_platform_test'),
        ]
        
        for unix_path, windows_path in test_cases:
            # Unix ìŠ¤íƒ€ì¼ ê²½ë¡œ ì •ê·œí™”
            normalized_unix = self.normalize_path_separator(unix_path, 'unix')
            
            # Windows ìŠ¤íƒ€ì¼ ê²½ë¡œ ì •ê·œí™”
            normalized_windows = self.normalize_path_separator(windows_path, 'windows')
            
            # í˜„ì¬ í”Œë«í¼ì— ë§ê²Œ ì •ê·œí™”
            current_normalized = self.normalize_path_separator(unix_path, 'auto')
            
            debug(f"ê²½ë¡œ ì •ê·œí™” í…ŒìŠ¤íŠ¸: {unix_path} -> {current_normalized}")
        
        info("í¬ë¡œìŠ¤í”Œë«í¼ í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸ ì™„ë£Œ")
        return True
        
    except Exception as e:
        handle_error(e, "í¬ë¡œìŠ¤í”Œë«í¼ í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨")
        return False
```

### 2.12 ìŠ¤íŠ¸ë¦¬ë° ê¸°ë°˜ ê´€ê³„ ì •ë¦½ ì‹œìŠ¤í…œ

**ê¸°ëŠ¥**: ëŒ€ìš©ëŸ‰ ê¸°ì—…ìš© í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ ê´€ê³„ ì •ë¦½ (ë©”ëª¨ë¦¬ íš¨ìœ¨ì )

**ìŠ¤íŠ¸ë¦¬ë° ì²˜ë¦¬ êµ¬ì¡°**:
```python
class StreamingRelationshipBuilder:
    """ìŠ¤íŠ¸ë¦¬ë° ê¸°ë°˜ ê´€ê³„ ì •ë¦½ í´ë˜ìŠ¤"""
    
    def __init__(self):
        self.db_utils = DatabaseUtils("meta_data.db")
        self.batch_size = 1000     # ë°°ì¹˜ ì²˜ë¦¬ í¬ê¸°
        self.max_memory_mb = 100   # ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (MB)
        self.temp_cache = {}       # ì„ì‹œ ìºì‹œ (ë°°ì¹˜ ë‹¨ìœ„)
    
    def establish_relationships_streaming(self, project_name: str) -> bool:
        """ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ ê´€ê³„ ì •ë¦½ (ëŒ€ìš©ëŸ‰ í”„ë¡œì íŠ¸ ëŒ€ì‘)"""
        try:
            info("ìŠ¤íŠ¸ë¦¬ë° ê´€ê³„ ì •ë¦½ ì‹œì‘")
            
            # 1ë‹¨ê³„: Frontend â†’ Backend ê´€ê³„ ì •ë¦½ (ë°°ì¹˜ ì²˜ë¦¬)
            self._establish_frontend_backend_streaming()
            
            # 2ë‹¨ê³„: Backend â†’ Database ê´€ê³„ ì •ë¦½ (ë°°ì¹˜ ì²˜ë¦¬)
            self._establish_backend_database_streaming()
            
            # 3ë‹¨ê³„: Database í…Œì´ë¸” ê°„ ê´€ê³„ ì •ë¦½ (ë°°ì¹˜ ì²˜ë¦¬)
            self._establish_database_relationships_streaming()
            
            info("ìŠ¤íŠ¸ë¦¬ë° ê´€ê³„ ì •ë¦½ ì™„ë£Œ")
            return True
            
        except Exception as e:
            handle_error(e, "ìŠ¤íŠ¸ë¦¬ë° ê´€ê³„ ì •ë¦½ ì‹¤íŒ¨")
            return False
    
    def _establish_frontend_backend_streaming(self) -> None:
        """Frontend â†’ Backend ê´€ê³„ ì •ë¦½ (ìŠ¤íŠ¸ë¦¬ë°)"""
        try:
            info("Frontend-Backend ê´€ê³„ ì •ë¦½ ì‹œì‘ (ìŠ¤íŠ¸ë¦¬ë°)")
            
            # Frontend ì»´í¬ë„ŒíŠ¸ë¥¼ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬
            offset = 0
            while True:
                # ë°°ì¹˜ ë‹¨ìœ„ë¡œ Frontend ì»´í¬ë„ŒíŠ¸ ì¡°íšŒ
                query = """
                    SELECT component_id, component_name, file_path, api_calls
                    FROM components 
                    WHERE type IN ('VUE', 'REACT', 'JAVASCRIPT', 'TYPESCRIPT')
                    ORDER BY component_id
                    LIMIT ? OFFSET ?
                """
                frontend_batch = self.db_utils.execute_query(query, (self.batch_size, offset))
                
                if not frontend_batch:
                    break
                
                # ê° Frontend ì»´í¬ë„ŒíŠ¸ì˜ API í˜¸ì¶œ ë¶„ì„
                for frontend_comp in frontend_batch:
                    api_calls = json.loads(frontend_comp.get('api_calls', '[]'))
                    
                    for api_call in api_calls:
                        # Backend ë©”ì„œë“œ ì°¾ê¸° (DBì—ì„œ ì§ì ‘ ì¡°íšŒ)
                        backend_method = self._find_backend_method_from_db(api_call.get('url'))
                        
                        if backend_method:
                            # ê´€ê³„ ìƒì„± ë° ì¦‰ì‹œ DB ì €ì¥
                            relationship = {
                                'src_id': frontend_comp['component_id'],
                                'dst_id': backend_method['component_id'],
                                'rel_type': 'CALLS_API',
                                'api_url': api_call.get('url'),
                                'http_method': api_call.get('method', 'GET')
                            }
                            self.db_utils.insert_record('relationships', relationship)
                
                offset += self.batch_size
                info(f"Frontend-Backend ê´€ê³„ ì •ë¦½ ì§„í–‰: {offset}ê°œ ì²˜ë¦¬")
            
            info("Frontend-Backend ê´€ê³„ ì •ë¦½ ì™„ë£Œ")
            
        except Exception as e:
            error(f"Frontend-Backend ê´€ê³„ ì •ë¦½ ì‹¤íŒ¨: {str(e)}")
    
    def _establish_backend_database_streaming(self) -> None:
        """Backend â†’ Database ê´€ê³„ ì •ë¦½ (ìŠ¤íŠ¸ë¦¬ë°)"""
        try:
            info("Backend-Database ê´€ê³„ ì •ë¦½ ì‹œì‘ (ìŠ¤íŠ¸ë¦¬ë°)")
            
            # Backend ì»´í¬ë„ŒíŠ¸ë¥¼ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬
            offset = 0
            while True:
                # ë°°ì¹˜ ë‹¨ìœ„ë¡œ Backend ì»´í¬ë„ŒíŠ¸ ì¡°íšŒ
                query = """
                    SELECT component_id, component_name, file_path, sql_queries
                    FROM components 
                    WHERE type IN ('JAVA_METHOD', 'JSP')
                    ORDER BY component_id
                    LIMIT ? OFFSET ?
                """
                backend_batch = self.db_utils.execute_query(query, (self.batch_size, offset))
                
                if not backend_batch:
                    break
                
                # ê° Backend ì»´í¬ë„ŒíŠ¸ì˜ SQL ì¿¼ë¦¬ ë¶„ì„
                for backend_comp in backend_batch:
                    sql_queries = json.loads(backend_comp.get('sql_queries', '[]'))
                    
                    for query_info in sql_queries:
                        # SQLì—ì„œ í…Œì´ë¸” ì •ë³´ ì¶”ì¶œ
                        tables = self._extract_tables_from_sql(query_info.get('sql'))
                        
                        for table_name in tables:
                            # í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ ì°¾ê¸°
                            table_comp = self._find_table_component(table_name)
                            
                            if table_comp:
                                # ê´€ê³„ ìƒì„± ë° ì¦‰ì‹œ DB ì €ì¥
                                relationship = {
                                    'src_id': backend_comp['component_id'],
                                    'dst_id': table_comp['component_id'],
                                    'rel_type': 'QUERIES_TABLE',
                                    'query_type': query_info.get('type', 'SELECT'),
                                    'sql_content': query_info.get('sql')
                                }
                                self.db_utils.insert_record('relationships', relationship)
                
                offset += self.batch_size
                info(f"Backend-Database ê´€ê³„ ì •ë¦½ ì§„í–‰: {offset}ê°œ ì²˜ë¦¬")
            
            info("Backend-Database ê´€ê³„ ì •ë¦½ ì™„ë£Œ")
            
        except Exception as e:
            error(f"Backend-Database ê´€ê³„ ì •ë¦½ ì‹¤íŒ¨: {str(e)}")
    
    def _establish_database_relationships_streaming(self) -> None:
        """Database í…Œì´ë¸” ê°„ ê´€ê³„ ì •ë¦½ (ìŠ¤íŠ¸ë¦¬ë°)"""
        try:
            info("Database ê´€ê³„ ì •ë¦½ ì‹œì‘ (ìŠ¤íŠ¸ë¦¬ë°)")
            
            # í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ë¥¼ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬
            offset = 0
            while True:
                # ë°°ì¹˜ ë‹¨ìœ„ë¡œ í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ ì¡°íšŒ
                query = """
                    SELECT component_id, component_name, table_name, columns
                    FROM components 
                    WHERE type = 'TABLE'
                    ORDER BY component_id
                    LIMIT ? OFFSET ?
                """
                table_batch = self.db_utils.execute_query(query, (self.batch_size, offset))
                
                if not table_batch:
                    break
                
                # ê° í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ì •ë³´ ë¶„ì„
                for table_comp in table_batch:
                    columns = json.loads(table_comp.get('columns', '[]'))
                    
                    for column in columns:
                        # ì™¸ë˜í‚¤ ê´€ê³„ ì°¾ê¸°
                        if column.get('is_foreign_key'):
                            referenced_table = column.get('referenced_table')
                            referenced_column = column.get('referenced_column')
                            
                            if referenced_table and referenced_column:
                                # ì°¸ì¡° í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ ì°¾ê¸°
                                ref_table_comp = self._find_table_component(referenced_table)
                                
                                if ref_table_comp:
                                    # ê´€ê³„ ìƒì„± ë° ì¦‰ì‹œ DB ì €ì¥
                                    relationship = {
                                        'src_id': table_comp['component_id'],
                                        'dst_id': ref_table_comp['component_id'],
                                        'rel_type': 'FOREIGN_KEY',
                                        'src_column': column.get('column_name'),
                                        'dst_column': referenced_column
                                    }
                                    self.db_utils.insert_record('relationships', relationship)
                
                offset += self.batch_size
                info(f"Database ê´€ê³„ ì •ë¦½ ì§„í–‰: {offset}ê°œ ì²˜ë¦¬")
            
            info("Database ê´€ê³„ ì •ë¦½ ì™„ë£Œ")
            
        except Exception as e:
            error(f"Database ê´€ê³„ ì •ë¦½ ì‹¤íŒ¨: {str(e)}")
    
    def _find_backend_method_from_db(self, api_url: str) -> Optional[Dict[str, Any]]:
        """DBì—ì„œ Backend ë©”ì„œë“œ ì°¾ê¸°"""
        try:
            # URL íŒ¨í„´ìœ¼ë¡œ Backend ë©”ì„œë“œ ë§¤ì¹­
            query = """
                SELECT component_id, component_name, file_path
                FROM components 
                WHERE type = 'JAVA_METHOD' 
                AND (api_mapping LIKE ? OR file_path LIKE ?)
                LIMIT 1
            """
            pattern = f"%{api_url}%"
            results = self.db_utils.execute_query(query, (pattern, pattern))
            
            return results[0] if results else None
            
        except Exception as e:
            error(f"Backend ë©”ì„œë“œ ì°¾ê¸° ì‹¤íŒ¨: {str(e)}")
            return None
    
    def _find_table_component(self, table_name: str) -> Optional[Dict[str, Any]]:
        """DBì—ì„œ í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ ì°¾ê¸°"""
        try:
            query = """
                SELECT component_id, component_name, table_name
                FROM components 
                WHERE type = 'TABLE' AND table_name = ?
                LIMIT 1
            """
            results = self.db_utils.execute_query(query, (table_name,))
            
            return results[0] if results else None
            
        except Exception as e:
            error(f"í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸ ì°¾ê¸° ì‹¤íŒ¨: {str(e)}")
            return None
    
    def _extract_tables_from_sql(self, sql: str) -> List[str]:
        """SQLì—ì„œ í…Œì´ë¸”ëª… ì¶”ì¶œ"""
        try:
            import re
            
            # FROM, JOIN, UPDATE, INSERT INTO ë“±ì˜ í…Œì´ë¸”ëª… ì¶”ì¶œ
            table_patterns = [
                r'FROM\s+(\w+)',
                r'JOIN\s+(\w+)',
                r'UPDATE\s+(\w+)',
                r'INSERT\s+INTO\s+(\w+)',
                r'DELETE\s+FROM\s+(\w+)'
            ]
            
            tables = set()
            for pattern in table_patterns:
                matches = re.findall(pattern, sql.upper())
                tables.update(matches)
            
            return list(tables)
            
        except Exception as e:
            error(f"SQL í…Œì´ë¸” ì¶”ì¶œ ì‹¤íŒ¨: {str(e)}")
            return []
    
**ê¸°ì—…ìš© í”„ë¡œì íŠ¸ ëŒ€ì‘ ì „ëµ**:
```python
class EnterpriseProjectHandler:
    """ê¸°ì—…ìš© ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ ì²˜ë¦¬ í´ë˜ìŠ¤"""
    
    def __init__(self):
        self.relationship_builder = StreamingRelationshipBuilder()
        self.progress_tracker = ProgressTracker()
        self.memory_monitor = MemoryMonitor()
    
    def process_enterprise_project(self, project_name: str) -> bool:
        """ê¸°ì—…ìš© í”„ë¡œì íŠ¸ ì²˜ë¦¬"""
        try:
            info(f"ê¸°ì—…ìš© í”„ë¡œì íŠ¸ ì²˜ë¦¬ ì‹œì‘: {project_name}")
            
            # 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ê·œëª¨ íŒŒì•…
            project_stats = self._analyze_project_scale(project_name)
            info(f"í”„ë¡œì íŠ¸ ê·œëª¨: {project_stats['files_count']}ê°œ íŒŒì¼, {project_stats['components_count']}ê°œ ì»´í¬ë„ŒíŠ¸")
            
            # 2ë‹¨ê³„: ë°°ì¹˜ í¬ê¸° ë™ì  ì¡°ì •
            self._adjust_batch_size(project_stats)
            
            # 3ë‹¨ê³„: ìŠ¤íŠ¸ë¦¬ë° ê´€ê³„ ì •ë¦½
            self.relationship_builder.establish_relationships_streaming(project_name)
            
            # 4ë‹¨ê³„: ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§
            self.progress_tracker.track_progress(project_name)
            
            info("ê¸°ì—…ìš© í”„ë¡œì íŠ¸ ì²˜ë¦¬ ì™„ë£Œ")
            return True
            
        except Exception as e:
            handle_error(e, f"ê¸°ì—…ìš© í”„ë¡œì íŠ¸ ì²˜ë¦¬ ì‹¤íŒ¨: {project_name}")
            return False
    
    def _analyze_project_scale(self, project_name: str) -> Dict[str, int]:
        """í”„ë¡œì íŠ¸ ê·œëª¨ ë¶„ì„"""
        try:
            # íŒŒì¼ ìˆ˜ ì¡°íšŒ
            files_count_query = "SELECT COUNT(*) as count FROM files WHERE project_name = ?"
            files_result = self.relationship_builder.db_utils.execute_query(files_count_query, (project_name,))
            files_count = files_result[0]['count'] if files_result else 0
            
            # ì»´í¬ë„ŒíŠ¸ ìˆ˜ ì¡°íšŒ
            components_count_query = "SELECT COUNT(*) as count FROM components WHERE project_name = ?"
            components_result = self.relationship_builder.db_utils.execute_query(components_count_query, (project_name,))
            components_count = components_result[0]['count'] if components_result else 0
            
            return {
                'files_count': files_count,
                'components_count': components_count,
                'estimated_relationships': files_count * 2  # ì¶”ì • ê´€ê³„ ìˆ˜
            }
            
        except Exception as e:
            error(f"í”„ë¡œì íŠ¸ ê·œëª¨ ë¶„ì„ ì‹¤íŒ¨: {str(e)}")
            return {'files_count': 0, 'components_count': 0, 'estimated_relationships': 0}
    
    def _adjust_batch_size(self, project_stats: Dict[str, int]) -> None:
        """ë°°ì¹˜ í¬ê¸° ë™ì  ì¡°ì •"""
        try:
            components_count = project_stats['components_count']
            
            # í”„ë¡œì íŠ¸ ê·œëª¨ì— ë”°ë¥¸ ë°°ì¹˜ í¬ê¸° ì¡°ì •
            if components_count < 1000:
                batch_size = 100      # ì†Œê·œëª¨ í”„ë¡œì íŠ¸
            elif components_count < 10000:
                batch_size = 500      # ì¤‘ê·œëª¨ í”„ë¡œì íŠ¸
            elif components_count < 100000:
                batch_size = 1000     # ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸
            else:
                batch_size = 2000     # ì´ˆëŒ€ê·œëª¨ í”„ë¡œì íŠ¸
            
            self.relationship_builder.batch_size = batch_size
            info(f"ë°°ì¹˜ í¬ê¸° ì¡°ì •: {batch_size} (ì»´í¬ë„ŒíŠ¸ ìˆ˜: {components_count})")
            
        except Exception as e:
            error(f"ë°°ì¹˜ í¬ê¸° ì¡°ì • ì‹¤íŒ¨: {str(e)}")
    
    def get_memory_usage_stats(self) -> Dict[str, Any]:
        """ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í†µê³„"""
        try:
            import psutil
            import os
            
            process = psutil.Process(os.getpid())
            memory_info = process.memory_info()
            
            return {
                'process_memory_mb': memory_info.rss / 1024 / 1024,
                'virtual_memory_mb': memory_info.vms / 1024 / 1024,
                'memory_percent': process.memory_percent(),
                'available_memory_mb': psutil.virtual_memory().available / 1024 / 1024
            }
            
        except Exception as e:
            error(f"ë©”ëª¨ë¦¬ í†µê³„ ì¡°íšŒ ì‹¤íŒ¨: {str(e)}")
            return {}
```
    
**ì„±ëŠ¥ ë¹„êµ ë° ì¥ì **:
```python
# ê¸°ì¡´ ë°©ì‹ (ë©”ëª¨ë¦¬ ìºì‹±) - ì†Œê·œëª¨ í”„ë¡œì íŠ¸ìš©
class MemoryCacheApproach:
    def establish_relationships(self):
        # ëª¨ë“  íŒŒì‹± ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ì— ë¡œë“œ
        all_files = self.cache['files']        # ìˆ˜ë§Œ ê°œ íŒŒì¼
        all_components = self.cache['components']  # ìˆ˜ì‹­ë§Œ ê°œ ì»´í¬ë„ŒíŠ¸
        # ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: ìˆ˜ GB

# ìƒˆë¡œìš´ ë°©ì‹ (ìŠ¤íŠ¸ë¦¬ë°) - ê¸°ì—…ìš© í”„ë¡œì íŠ¸ìš©  
class StreamingApproach:
    def establish_relationships_streaming(self):
        # ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬ (1000ê°œì”©)
        offset = 0
        while True:
            batch = db_utils.execute_query("SELECT * FROM components LIMIT 1000 OFFSET ?", (offset,))
            if not batch:
                break
            # ê´€ê³„ ì •ë¦½ ë° ì¦‰ì‹œ DB ì €ì¥
            self._process_batch(batch)
            offset += 1000
        # ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: ìˆ˜ì‹­ MB
```

**ì‹¤ì œ ì„±ëŠ¥ ìˆ˜ì¹˜**:
- **ì†Œê·œëª¨ í”„ë¡œì íŠ¸** (1,000ê°œ íŒŒì¼): ë©”ëª¨ë¦¬ ìºì‹± ë°©ì‹ ì í•©
- **ì¤‘ê·œëª¨ í”„ë¡œì íŠ¸** (10,000ê°œ íŒŒì¼): ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ ê¶Œì¥
- **ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸** (100,000ê°œ íŒŒì¼): ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ í•„ìˆ˜
- **ì´ˆëŒ€ê·œëª¨ í”„ë¡œì íŠ¸** (1,000,000ê°œ íŒŒì¼): ìŠ¤íŠ¸ë¦¬ë° + ë¶„í•  ì²˜ë¦¬
    
    def _calculate_size(self, obj: Any) -> int:
        """ê°ì²´ í¬ê¸° ê³„ì‚° (ëŒ€ëµì )"""
        try:
            import sys
            return sys.getsizeof(obj)
        except:
            return 1024  # ê¸°ë³¸ê°’
    
    def _cleanup_cache(self) -> None:
        """ìºì‹œ ì •ë¦¬ (LRU ë°©ì‹)"""
        try:
            # ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ 80% ì´ˆê³¼ ì‹œ ì •ë¦¬
            if self.memory_usage > self.max_memory_mb * 0.8 * 1024 * 1024:
                # ì˜¤ë˜ëœ ìºì‹œ í•­ëª© 20% ì œê±°
                cleanup_count = len(self.cache['files']) // 5
                
                # íŒŒì¼ ìºì‹œì—ì„œ ì˜¤ë˜ëœ í•­ëª© ì œê±°
                file_items = list(self.cache['files'].items())
                for i in range(min(cleanup_count, len(file_items))):
                    file_path, result = file_items[i]
                    del self.cache['files'][file_path]
                    self.memory_usage -= self._calculate_size(result)
                
                # ì»´í¬ë„ŒíŠ¸ ìºì‹œì—ì„œ ì˜¤ë˜ëœ í•­ëª© ì œê±°
                component_items = list(self.cache['components'].items())
                for i in range(min(cleanup_count, len(component_items))):
                    component_id, result = component_items[i]
                    del self.cache['components'][component_id]
                    self.memory_usage -= self._calculate_size(result)
                
                info(f"ìºì‹œ ì •ë¦¬ ì™„ë£Œ: {cleanup_count}ê°œ í•­ëª© ì œê±°, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰: {self.memory_usage / 1024 / 1024:.2f}MB")
                
        except Exception as e:
            error(f"ìºì‹œ ì •ë¦¬ ì‹¤íŒ¨: {str(e)}")
    
    def get_cache_stats(self) -> Dict[str, Any]:
        """ìºì‹œ í†µê³„ ì •ë³´ ë°˜í™˜"""
        return {
            'files_count': len(self.cache['files']),
            'components_count': len(self.cache['components']),
            'relationships_count': len(self.cache['relationships']),
            'memory_usage_mb': self.memory_usage / 1024 / 1024,
            'max_memory_mb': self.max_memory_mb
        }
```

**íŒŒì‹± ë‹¨ê³„ë³„ ìºì‹± ì „ëµ**:
```python
class ParsingPipeline:
    """íŒŒì‹± íŒŒì´í”„ë¼ì¸ (ìºì‹± í¬í•¨)"""
    
    def __init__(self):
        self.cache = ParsingResultCache()
        self.parsers = {
            'xml': XMLParser(),
            'java': JavaParser(),
            'jsp': JSPParser(),
            'vue': VueParser(),
            'react': ReactParser(),
            'javascript': JavaScriptParser(),
            'typescript': TypeScriptParser()
        }
    
    def parse_all_files(self, project_name: str) -> bool:
        """ëª¨ë“  íŒŒì¼ íŒŒì‹± ë° ìºì‹±"""
        try:
            # 1ë‹¨ê³„: XML íŒŒì¼ íŒŒì‹± ë° ìºì‹±
            info("1ë‹¨ê³„: XML íŒŒì¼ íŒŒì‹± ì‹œì‘")
            xml_files = self._get_xml_files(project_name)
            for file_path in xml_files:
                result = self.parsers['xml'].parse(file_path)
                self.cache.store_file_result(file_path, result)
            
            # 2ë‹¨ê³„: Java íŒŒì¼ íŒŒì‹± ë° ìºì‹±
            info("2ë‹¨ê³„: Java íŒŒì¼ íŒŒì‹± ì‹œì‘")
            java_files = self._get_java_files(project_name)
            for file_path in java_files:
                result = self.parsers['java'].parse(file_path)
                self.cache.store_file_result(file_path, result)
                
                # ì»´í¬ë„ŒíŠ¸ë³„ë¡œë„ ìºì‹±
                for component in result.get('components', []):
                    component_id = component.get('component_id')
                    self.cache.store_component_result(component_id, component)
            
            # 3ë‹¨ê³„: Frontend íŒŒì¼ íŒŒì‹± ë° ìºì‹±
            info("3ë‹¨ê³„: Frontend íŒŒì¼ íŒŒì‹± ì‹œì‘")
            frontend_files = self._get_frontend_files(project_name)
            for file_path in frontend_files:
                file_type = self._detect_file_type(file_path)
                if file_type in self.parsers:
                    result = self.parsers[file_type].parse(file_path)
                    self.cache.store_file_result(file_path, result)
                    
                    # API í˜¸ì¶œ ê´€ê³„ë„ ìºì‹±
                    for api_call in result.get('api_calls', []):
                        rel_id = f"{file_path}:{api_call.get('url')}"
                        self.cache.store_relationship(rel_id, api_call)
            
            # ìºì‹œ í†µê³„ ì¶œë ¥
            stats = self.cache.get_cache_stats()
            info(f"íŒŒì‹± ì™„ë£Œ - ìºì‹œ í†µê³„: {stats}")
            
            return True
            
        except Exception as e:
            handle_error(e, "íŒŒì¼ íŒŒì‹± ì‹¤íŒ¨")
            return False
    
    def establish_relationships(self, project_name: str) -> bool:
        """ê´€ê³„ ì •ë¦½ (ìºì‹œëœ ê²°ê³¼ í™œìš©)"""
        try:
            info("ê´€ê³„ ì •ë¦½ ì‹œì‘ - ìºì‹œëœ íŒŒì‹± ê²°ê³¼ í™œìš©")
            
            # ìºì‹œì—ì„œ ëª¨ë“  ê´€ê³„ ì •ë³´ ìˆ˜ì§‘
            all_relationships = self.cache.get_all_relationships()
            
            # 1. Frontend â†’ Backend API ê´€ê³„ ì •ë¦½
            self._establish_frontend_backend_relationships()
            
            # 2. Backend â†’ Database ê´€ê³„ ì •ë¦½
            self._establish_backend_database_relationships()
            
            # 3. Database í…Œì´ë¸” ê°„ ê´€ê³„ ì •ë¦½
            self._establish_database_relationships()
            
            info("ê´€ê³„ ì •ë¦½ ì™„ë£Œ")
            return True
            
        except Exception as e:
            handle_error(e, "ê´€ê³„ ì •ë¦½ ì‹¤íŒ¨")
            return False
    
    def _establish_frontend_backend_relationships(self) -> None:
        """Frontend â†’ Backend API ê´€ê³„ ì •ë¦½"""
        try:
            # ìºì‹œì—ì„œ Frontend ì»´í¬ë„ŒíŠ¸ ì¡°íšŒ
            frontend_components = []
            for component_id, component in self.cache.cache['components'].items():
                if component.get('type') in ['VUE', 'REACT', 'JAVASCRIPT', 'TYPESCRIPT']:
                    frontend_components.append(component)
            
            # API í˜¸ì¶œ íŒ¨í„´ ë§¤ì¹­
            for frontend_comp in frontend_components:
                api_calls = frontend_comp.get('api_calls', [])
                for api_call in api_calls:
                    # Backend ë©”ì„œë“œ ì°¾ê¸°
                    backend_method = self._find_backend_method(api_call.get('url'))
                    if backend_method:
                        # ê´€ê³„ ìƒì„±
                        rel_id = f"frontend_{frontend_comp['component_id']}_backend_{backend_method['component_id']}"
                        relationship = {
                            'src_id': frontend_comp['component_id'],
                            'dst_id': backend_method['component_id'],
                            'rel_type': 'CALLS_API',
                            'api_url': api_call.get('url'),
                            'http_method': api_call.get('method', 'GET')
                        }
                        self.cache.store_relationship(rel_id, relationship)
                        
        except Exception as e:
            error(f"Frontend-Backend ê´€ê³„ ì •ë¦½ ì‹¤íŒ¨: {str(e)}")
    
    def _establish_backend_database_relationships(self) -> None:
        """Backend â†’ Database ê´€ê³„ ì •ë¦½"""
        try:
            # ìºì‹œì—ì„œ Backend ì»´í¬ë„ŒíŠ¸ ì¡°íšŒ
            backend_components = []
            for component_id, component in self.cache.cache['components'].items():
                if component.get('type') in ['JAVA_METHOD', 'JSP']:
                    backend_components.append(component)
            
            # SQL ì¿¼ë¦¬ íŒ¨í„´ ë§¤ì¹­
            for backend_comp in backend_components:
                sql_queries = backend_comp.get('sql_queries', [])
                for query in sql_queries:
                    # í…Œì´ë¸” ì •ë³´ ì¶”ì¶œ
                    tables = self._extract_tables_from_query(query.get('sql'))
                    for table_name in tables:
                        # ê´€ê³„ ìƒì„±
                        rel_id = f"backend_{backend_comp['component_id']}_table_{table_name}"
                        relationship = {
                            'src_id': backend_comp['component_id'],
                            'dst_id': f"TABLE_{table_name}",
                            'rel_type': 'QUERIES_TABLE',
                            'query_type': query.get('type', 'SELECT'),
                            'sql_content': query.get('sql')
                        }
                        self.cache.store_relationship(rel_id, relationship)
                        
        except Exception as e:
            error(f"Backend-Database ê´€ê³„ ì •ë¦½ ì‹¤íŒ¨: {str(e)}")
```

**ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§**:
```python
def monitor_memory_usage(self) -> None:
    """ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§"""
    try:
        import psutil
        import os
        
        # í”„ë¡œì„¸ìŠ¤ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
        process = psutil.Process(os.getpid())
        memory_info = process.memory_info()
        memory_mb = memory_info.rss / 1024 / 1024
        
        # ìºì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
        cache_stats = self.cache.get_cache_stats()
        
        info(f"ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ - í”„ë¡œì„¸ìŠ¤: {memory_mb:.2f}MB, ìºì‹œ: {cache_stats['memory_usage_mb']:.2f}MB")
        
        # ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ 80% ì´ˆê³¼ ì‹œ ê²½ê³ 
        if memory_mb > self.max_memory_mb * 0.8:
            warning(f"ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê²½ê³ : {memory_mb:.2f}MB (ìµœëŒ€: {self.max_memory_mb}MB)")
            self.cache._cleanup_cache()
            
    except Exception as e:
        error(f"ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§ ì‹¤íŒ¨: {str(e)}")
```


## 3. í•µì‹¬ ì²˜ë¦¬ ì›ì¹™ (ì—°ê´€ê´€ê³„ ì¤‘ì‹¬)

### 3.1 ì—°ê´€ê´€ê³„ ìš°ì„  ì›ì¹™
```
- ì™„ë²½í•œ íŒŒì‹±ë³´ë‹¤ ì—°ê´€ê´€ê³„ ë„ì¶œ ìš°ì„ 
- ë¶€ë¶„ì  ì •ë³´ë¡œë„ ì¶©ë¶„í•œ ê´€ê³„ ì¶”ì¶œ
- íŒŒì‹± ì‹¤íŒ¨í•´ë„ ê´€ê³„ëŠ” ì¶”ì¶œ ê°€ëŠ¥
- ê´€ê³„ê°€ ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ìˆì–´ë„ ìœ ìš©í•¨
```

### 3.2 ì•ˆì „í•œ Fallback ë©”ì»¤ë‹ˆì¦˜
```
- ê³ ê¸‰ íŒŒì‹± ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ íŒŒì‹±ìœ¼ë¡œ ëŒ€ì²´
- ê°œë³„ íŒŒì¼ ì‹¤íŒ¨ê°€ ì „ì²´ ì‹œìŠ¤í…œì— ì˜í–¥ ì—†ìŒ
- 80/20 ì›ì¹™: 80% ì¼ë°˜ì  ì¼€ì´ìŠ¤ì˜ ì•ˆì •ì  ì§€ì›
- ì„¤ì • ê¸°ë°˜ ì œí•œìœ¼ë¡œ ì•ˆì „ì¥ì¹˜ í™•ë³´
```

### 3.3 ì ì§„ì  ê´€ê³„ ì™„ì„±
```
- íŒŒì¼ë³„ë¡œ ê´€ê³„ë¥¼ ì ì§„ì ìœ¼ë¡œ ì™„ì„±
- ë©”ëª¨ë¦¬ ìºì‹± ëŒ€ì‹  ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹
- ë°°ì¹˜ ë‹¨ìœ„ë¡œ ê´€ê³„ ì •ë¦½ ë° ì¦‰ì‹œ ì €ì¥
- ëŒ€ìš©ëŸ‰ í”„ë¡œì íŠ¸ì—ì„œë„ ì•ˆì •ì  ì²˜ë¦¬
```

### 3.4 ì‹¤ìš©ì  ì ‘ê·¼
```
- ì´ë¡ ì  ìµœì í™”ë³´ë‹¤ ì‹¤ë¬´ì  íš¨ìš©ì„± ì¶”êµ¬
- ì‚¬ìš©ìê°€ ì²´ê°í•  ìˆ˜ ìˆëŠ” ê°œì„  íš¨ê³¼ ìš°ì„ 
- ë³µì¡í•œ ê¸°ìˆ ë³´ë‹¤ ë‹¨ìˆœí•˜ê³  í™•ì‹¤í•œ ê°œì„ 
- ì¦‰ì‹œ ì ìš© ê°€ëŠ¥í•œ ì‹¤ì§ˆì  í•´ê²°ì±…
```

## 4. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­ (ì—°ê´€ê´€ê³„ ì¤‘ì‹¬)

### 4.1 ë©”ëª¨ë¦¬ íš¨ìœ¨ì  ê´€ê³„ ì²˜ë¦¬
- **ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹**: ëŒ€ìš©ëŸ‰ í”„ë¡œì íŠ¸ì—ì„œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì  ì²˜ë¦¬
- **ë°°ì¹˜ ì²˜ë¦¬**: ê´€ê³„ë¥¼ ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´ ì²˜ë¦¬
- **ì¦‰ì‹œ ì €ì¥**: ê´€ê³„ ìƒì„± ì¦‰ì‹œ DBì— ì €ì¥í•˜ì—¬ ë©”ëª¨ë¦¬ ì ˆì•½
- **ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¶”ì 

### 4.2 ê´€ê³„ ì •ë¦½ ìµœì í™”
- **ì ì§„ì  ê´€ê³„ ì™„ì„±**: íŒŒì¼ë³„ë¡œ ê´€ê³„ë¥¼ ì ì§„ì ìœ¼ë¡œ ì™„ì„±
- **ì¤‘ë³µ ë°©ì§€**: ì‹œìŠ¤í…œ ìˆ˜ì¤€ì—ì„œ ì¤‘ë³µ ê´€ê³„ ë°©ì§€
- **ì¸ë±ìŠ¤ í™œìš©**: ê´€ê³„ ì¡°íšŒ ì„±ëŠ¥ ìµœì í™”
- **ìºì‹œ ì „ëµ**: ìì£¼ ì‚¬ìš©ë˜ëŠ” ê´€ê³„ ì •ë³´ ìºì‹±

### 4.3 ì•ˆì •ì„± ìš°ì„  ì„¤ê³„
- **Fallback ë©”ì»¤ë‹ˆì¦˜**: íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì•ˆì „í•œ ëŒ€ì²´ ì²˜ë¦¬
- **ë¶€ë¶„ ì‹¤íŒ¨ í—ˆìš©**: ê°œë³„ íŒŒì¼ ì‹¤íŒ¨ê°€ ì „ì²´ì— ì˜í–¥ ì—†ìŒ
- **ì„¤ì • ê¸°ë°˜ ì œí•œ**: ë³µì¡í•œ ì¼€ì´ìŠ¤ëŠ” ì œí•œì ìœ¼ë¡œ ì²˜ë¦¬
- **ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„±ëŠ¥**: í™•ì¥ ì‹œ ì„ í˜•ì  ìì› ì¦ê°€ ë³´ì¥

## 10. ë‹¨ìˆœí™”ëœ API í˜¸ì¶œ êµ¬ì¡°

### 10.1 API_URL ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í˜¸ì¶œí•˜ëŠ” API ì •ë³´ë¥¼ components í…Œì´ë¸”ì— í†µí•©í•˜ì—¬ ê´€ë¦¬í•©ë‹ˆë‹¤.

| ì»¬ëŸ¼ëª… | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| component_type | API_URL | API_URL |
| component_name | API URLê³¼ HTTP ë©”ì„œë“œ ì¡°í•© | /api/user-profile:GET |
| file_id | í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ ID (JSP/JSX) | 201 (JSP íŒŒì¼ ID) |
| layer | API_ENTRY | API ì—”ë“œí¬ì¸íŠ¸ ë ˆì´ì–´ |

**í•µì‹¬ ê°œë…**:
- **í”„ë¡ íŠ¸ì—”ë“œ API í˜¸ì¶œ = ë°±ì—”ë“œ API ì§„ì…ì **: ë™ì¼í•œ URLì´ë¯€ë¡œ ì¤‘ë³µ ì €ì¥ ë¶ˆí•„ìš”
- **file_idë¡œ í”„ë¡ íŠ¸ íŒŒì¼ ì—°ê²°**: JSP/JSX íŒŒì¼ì—ì„œ í˜¸ì¶œí•˜ëŠ” APIì„ì„ ëª…ì‹œ
- **component_nameì— ëª¨ë“  ì •ë³´ í¬í•¨**: URL:HTTP_METHOD í˜•íƒœë¡œ ê³ ìœ  ì‹ë³„
- **layerë¡œ ì•„í‚¤í…ì²˜ êµ¬ë¶„**: API_ENTRY ë ˆì´ì–´ë¡œ ëª…í™•í•œ ì—­í•  ì •ì˜

### 10.2 API í˜¸ì¶œ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨ (Layer í¬í•¨)

```mermaid
graph TD
    A["JSP/JSX íŒŒì¼<br/>FRONTEND Layer"] --> B["API_URL ì»´í¬ë„ŒíŠ¸<br/>API_ENTRY Layer"]
    B --> C["Controller METHOD<br/>CONTROLLER Layer"]
    C --> D["Service METHOD<br/>SERVICE Layer"]
    D --> E["Repository METHOD<br/>REPOSITORY Layer"]
    E --> F["SQL_* ì»´í¬ë„ŒíŠ¸<br/>QUERY Layer"]
    F --> G["TABLE ì»´í¬ë„ŒíŠ¸<br/>TABLE Layer"]
    
    style A fill:#e3f2fd
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#ffcc80
    style F fill:#ffcdd2
    style G fill:#f5f5f5
```

**Layerë³„ í˜¸ì¶œ ì²´ì¸ ì„¤ëª…**:
1. **FRONTEND Layer**: JSP/JSX/Vue í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼
2. **API_ENTRY Layer**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í˜¸ì¶œí•˜ëŠ” API ì—”ë“œí¬ì¸íŠ¸ (/api/user-profile:GET)
3. **CONTROLLER Layer**: HTTP ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ
4. **SERVICE Layer**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ ë©”ì„œë“œ
5. **REPOSITORY Layer**: ë°ì´í„° ì ‘ê·¼ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” DAO/Mapper ë©”ì„œë“œ
6. **QUERY Layer**: ì‹¤ì œ SQL ì¿¼ë¦¬ (SQL_SELECT, SQL_INSERT ë“±)
7. **TABLE Layer**: ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ë° ì»¬ëŸ¼

### 10.3 ê´€ê³„ íƒ€ì… (6ê°€ì§€ í•µì‹¬ ê´€ê³„)

#### 1. ë©”ì„œë“œ í˜¸ì¶œ ê´€ê³„
- **CALL_METHOD**: ì»´í¬ë„ŒíŠ¸ì—ì„œ ë©”ì„œë“œë¡œì˜ í˜¸ì¶œ
  - ì‚¬ìš©: src_id = í˜¸ì¶œí•˜ëŠ” ì»´í¬ë„ŒíŠ¸, dst_id = í˜¸ì¶œë°›ëŠ” METHOD
  - ì˜ˆì‹œ: API_URL â†’ METHOD, METHOD â†’ METHOD (Controller â†’ Service â†’ DAO)
  - êµ¬ë¶„: src_idì˜ component_typeìœ¼ë¡œ í˜¸ì¶œ ìœ í˜• íŒë‹¨

#### 2. ì¿¼ë¦¬ í˜¸ì¶œ ê´€ê³„
- **CALL_QUERY**: ë©”ì„œë“œì—ì„œ SQL ì¿¼ë¦¬ë¡œì˜ í˜¸ì¶œ
  - ì‚¬ìš©: src_id = METHOD ì»´í¬ë„ŒíŠ¸, dst_id = SQL_* ë˜ëŠ” QUERY ì»´í¬ë„ŒíŠ¸
  - ì˜ˆì‹œ: DAO ë©”ì„œë“œì—ì„œ SQL ì¿¼ë¦¬ í˜¸ì¶œ

#### 3. í…Œì´ë¸” ì‚¬ìš© ê´€ê³„
- **USE_TABLE**: SQL ì¿¼ë¦¬ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì‚¬ìš©
  - ì‚¬ìš©: src_id = SQL_* ë˜ëŠ” QUERY ì»´í¬ë„ŒíŠ¸, dst_id = TABLE ì»´í¬ë„ŒíŠ¸
  - ì˜ˆì‹œ: SELECT ì¿¼ë¦¬ì—ì„œ USERS í…Œì´ë¸” ì‚¬ìš©

#### 4. ìƒì† ê´€ê³„
- **INHERITANCE**: í´ë˜ìŠ¤ ìƒì† ê´€ê³„
  - ì‚¬ìš©: src_id = ìì‹ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸, dst_id = ë¶€ëª¨ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸
  - ì˜ˆì‹œ: UserController extends BaseController

#### 5. ëª…ì‹œì  ì¡°ì¸ ê´€ê³„
- **JOIN_EXPLICIT**: ëª…ì‹œì  ì¡°ì¸ ê´€ê³„
  - ì‚¬ìš©: src_id = SQL ì¿¼ë¦¬ ì»´í¬ë„ŒíŠ¸, dst_id = ì¡°ì¸ë˜ëŠ” í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸
  - ì˜ˆì‹œ: SELECT * FROM A JOIN B ON A.id = B.id

#### 6. ì•”ì‹œì  ì¡°ì¸ ê´€ê³„
- **JOIN_IMPLICIT**: ì•”ì‹œì  ì¡°ì¸ ê´€ê³„
  - ì‚¬ìš©: src_id = SQL ì¿¼ë¦¬ ì»´í¬ë„ŒíŠ¸, dst_id = ì¡°ì¸ë˜ëŠ” í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸
  - ì˜ˆì‹œ: SELECT * FROM A, B WHERE A.id = B.id

**ì™„ì „í•œ í˜¸ì¶œ ì²´ì¸ ì˜ˆì‹œ**:
```
JSP íŒŒì¼ (file_id) 
    â†“
API_URL (/api/user-profile:GET)
    â†“ CALL_METHOD
METHOD (getUserProfile)
    â†“ CALL_METHOD
METHOD (UserService.getUser)
    â†“ CALL_METHOD
METHOD (UserDAO.findById)
    â†“ CALL_QUERY
SQL_SELECT (SELECT * FROM users WHERE id = ?)
    â†“ USE_TABLE
TABLE (USERS)
```

**CallChain Report ì¿¼ë¦¬ êµ¬ì¡°**:
```sql
SELECT 
    ROW_NUMBER() OVER (ORDER BY jsp_file.file_name, api_url.component_name) as chain_id,
    jsp_file.file_name as jsp_file,
    api_url.component_name as api_url,
    class.class_name as class_name,
    method.component_name as method_name,
    xml_file.file_name as xml_file,
    sql.component_name as sql_name,
    sql.component_type as sql_type,
    GROUP_CONCAT(DISTINCT table.table_name) as related_tables
FROM files jsp_file
JOIN components api_url ON jsp_file.file_id = api_url.file_id
JOIN relationships r1 ON api_url.component_id = r1.src_id
JOIN components method ON r1.dst_id = method.component_id
JOIN classes class ON method.parent_id = class.class_id
JOIN relationships r2 ON method.component_id = r2.src_id
JOIN components sql ON r2.dst_id = sql.component_id
JOIN files xml_file ON sql.file_id = xml_file.file_id
LEFT JOIN relationships r3 ON sql.component_id = r3.src_id
LEFT JOIN tables table ON r3.dst_id = table.component_id
WHERE api_url.component_type = 'API_URL'
  AND r1.rel_type = 'CALL_METHOD'
  AND method.component_type = 'METHOD'
  AND r2.rel_type = 'CALL_QUERY'
  AND sql.component_type LIKE 'SQL_%'
  AND (r3.rel_type = 'USE_TABLE' OR r3.rel_type IS NULL)
GROUP BY jsp_file.file_name, api_url.component_name, class.class_name, 
         method.component_name, xml_file.file_name, sql.component_name, sql.component_type
```

**CallChain Report ê²°ê³¼ ì˜ˆì‹œ**:

| chain_id | jsp_file | api_url | class_name | method_name | xml_file | sql_name | sql_type | related_tables |
|----------|----------|---------|------------|-------------|----------|----------|----------|----------------|
| 1 | MicroserviceDashboard.jsp | /api/user-profile:GET | MicroserviceController | getUserProfile | UserMapper.xml | getUserById | SQL_SELECT | USERS, USER_PROFILES |
| 2 | UserList.jsp | /api/users:GET | UserController | getUsers | UserMapper.xml | getAllUsers | SQL_SELECT | USERS |

**ëª¨ë“  ê´€ê³„ íƒ€ì… ìš”ì•½**:
- **CALL_METHOD**: ë©”ì„œë“œ í˜¸ì¶œ ê´€ê³„ (API_URL â†’ METHOD, METHOD â†’ METHOD)
- **CALL_QUERY**: ì¿¼ë¦¬ í˜¸ì¶œ ê´€ê³„ (METHOD â†’ SQL_*/QUERY)
- **USE_TABLE**: í…Œì´ë¸” ì‚¬ìš© ê´€ê³„ (SQL_*/QUERY â†’ TABLE)
- **INHERITANCE**: í´ë˜ìŠ¤ ìƒì† ê´€ê³„ (ìì‹ í´ë˜ìŠ¤ â†’ ë¶€ëª¨ í´ë˜ìŠ¤)
- **JOIN_EXPLICIT**: ëª…ì‹œì  ì¡°ì¸ ê´€ê³„ (SQL â†’ ì¡°ì¸ í…Œì´ë¸”)
- **JOIN_IMPLICIT**: ì•”ì‹œì  ì¡°ì¸ ê´€ê³„ (SQL â†’ ì¡°ì¸ í…Œì´ë¸”)

### 10.4 ë°ì´í„° ì˜ˆì‹œ

```sql
-- API_URL ì»´í¬ë„ŒíŠ¸ë“¤
INSERT INTO components VALUES 
(1001, 1, 201, '/api/user-profile:GET', 'API_URL', NULL, 'FRONTEND', 74, 85, 'N', NULL, 'hash123', '2024-01-01', '2024-01-01', 'N'),
(1002, 1, 201, '/api/order-details:GET', 'API_URL', NULL, 'FRONTEND', 98, 109, 'N', NULL, 'hash456', '2024-01-01', '2024-01-01', 'N');

-- API í˜¸ì¶œ ê´€ê³„
INSERT INTO relationships VALUES 
(1001, 2001, 'CALL_METHOD', 1.0, 'N', NULL, 'hash_rel1', '2024-01-01', '2024-01-01', 'N'),  -- API_URL â†’ METHOD
(1002, 2002, 'CALL_METHOD', 1.0, 'N', NULL, 'hash_rel2', '2024-01-01', '2024-01-01', 'N');  -- API_URL â†’ METHOD
```

**ì‹¤ì œ ë°ì´í„° êµ¬ì¡°**:
- **file_id: 201**: JSP íŒŒì¼ ID (í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼)
- **component_name**: '/api/user-profile:GET' (URL:HTTP_METHOD í˜•íƒœ)
- **component_type**: 'API_URL' (í”„ë¡ íŠ¸ì—”ë“œ API í˜¸ì¶œ)
- **rel_type**: 'CALL_METHOD' (í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°±ì—”ë“œë¡œì˜ í˜¸ì¶œ)

### 10.5 ì£¼ìš” ê°œì„ ì‚¬í•­

#### 1. ë‹¨ìˆœí™”ëœ êµ¬ì¡°
- **ì¤‘ë³µ ì œê±°**: í”„ë¡ íŠ¸ì—”ë“œ API í˜¸ì¶œ = ë°±ì—”ë“œ API ì§„ì…ì  (ë™ì¼í•œ URL)
- **ë‹¨ì¼ ì»´í¬ë„ŒíŠ¸**: API_URL í•˜ë‚˜ë¡œ í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ì—°ê²°
- **ëª…í™•í•œ ì—°ê²°**: file_idë¡œ í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼ê³¼ API_URL ì—°ê²°

#### 2. 6ê°€ì§€ í•µì‹¬ ê´€ê³„
- **CALL_METHOD**: ì»´í¬ë„ŒíŠ¸ â†’ METHOD (API_URL â†’ METHOD, METHOD â†’ METHOD)
- **CALL_QUERY**: METHOD â†’ SQL (ë©”ì„œë“œ â†’ ì¿¼ë¦¬)
- **USE_TABLE**: SQL â†’ TABLE (ì¿¼ë¦¬ â†’ í…Œì´ë¸”)
- **INHERITANCE**: í´ë˜ìŠ¤ ìƒì† ê´€ê³„
- **JOIN_EXPLICIT**: ëª…ì‹œì  ì¡°ì¸ ê´€ê³„
- **JOIN_IMPLICIT**: ì•”ì‹œì  ì¡°ì¸ ê´€ê³„

#### 3. ì§ê´€ì ì¸ í˜¸ì¶œ ì²´ì¸
```
JSP íŒŒì¼ â†’ API_URL â†’ METHOD â†’ SQL â†’ TABLE
```

#### 4. í™•ì¥ì„±
- **ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ íƒ€ì…**: components í…Œì´ë¸”ì— ìƒˆë¡œìš´ component_type ì¶”ê°€ ê°€ëŠ¥
- **ìœ ì—°í•œ ê´€ê³„**: relationships í…Œì´ë¸”ì—ì„œ ë‹¤ì–‘í•œ ê´€ê³„ íƒ€ì… ì§€ì›

---

## ë‹¤ìŒ ë‹¨ê³„
- [04_XML_ë¶„ì„_êµ¬í˜„ì„œ.md](04_XML_ë¶„ì„_êµ¬í˜„ì„œ.md): XML ë¶„ì„ ìƒì„¸ êµ¬í˜„
- [05_Java_ë¶„ì„_êµ¬í˜„ì„œ.md](05_Java_ë¶„ì„_êµ¬í˜„ì„œ.md): Java ë¶„ì„ ìƒì„¸ êµ¬í˜„
- [06_ê´€ê³„_ì •ë¦½_êµ¬í˜„ì„œ.md](06_ê´€ê³„_ì •ë¦½_êµ¬í˜„ì„œ.md): ì»´í¬ë„ŒíŠ¸ ê°„ ê´€ê³„ ì •ë¦½
